<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.9d5067ed1f5323def063.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:400;src:url(/static/roboto-400-465390c6e54c60f4a15ff698f372e858.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:500;src:url(/static/roboto-500-324b1e6d0f5ae7c6ab42fed5516c7b3d.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:700;src:url(/static/roboto-700-18034c13b329fd74d51af5c9e2ddee1e.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:400;src:url(/static/roboto-mono-400-336c829bcd5d167e6d7942a2bd64c703.woff) format("woff");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-family:PerfectDOS;src:url(/static/PerfectDos-4df1d5bd795358c80faab26511d48071.ttf) format("truetype")}*,:after,:before,html{-webkit-box-sizing:border-box;box-sizing:border-box}body,figure{margin:0}html{font:normal normal normal 1rem/1.6 Helvetica Neue,Roboto,-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;font-family:Helvetica Neue,Roboto,-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;font-size:84%!important}body{color:#454545;font-size:1rem;-webkit-transition:background .4s ease;transition:background .4s ease}@media(min-width:620px){body{font-size:1.15rem}}.gatsby-resp-iframe-wrapper,dl,ol,p,table,ul,video{font-size:1.25rem;margin:0 0 1.5rem}@media(min-width:620px){.gatsby-resp-iframe-wrapper,dl,ol,p,table,ul,video{font-size:1.35rem;margin:0 0 2rem}}ul li p{margin:0}ul li ul{margin:0;padding-left:1rem}ul li ul li{margin:.25rem 0}ol li ol{margin-bottom:0}h1,h2,h3,h4,h5{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#111;font-family:Roboto,-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.3}h1,h1:not(:first-child),h2,h2:not(:first-child),h3,h3:not(:first-child),h4,h4:not(:first-child),h5,h5:not(:first-child){margin:0 0 1rem}h1{font-size:1.95rem;font-weight:500}h1 code{font-size:1.95rem!important}h2{font-size:1.8rem;font-weight:500;padding-bottom:.2rem}h2 code{font-size:1.8rem!important}h3{color:#444;font-size:1.6rem}h3,h4{font-weight:500}h4{color:#777;font-size:1.4rem}h5{font-size:1.3rem;font-weight:500}@media(min-width:620px){h1,h2,h3,h4,h5{margin:0 0 2rem}h1:not(:first-child),h2:not(:first-child),h3:not(:first-child),h4:not(:first-child),h5:not(:first-child){margin:0 0 1.5rem}h1{font-size:2.6rem}h1 code{font-size:2.6rem!important}h2{font-size:2.3rem}h2 code{font-size:2.3rem!important}h3{font-size:1.95rem}h4{font-size:1.6rem}h5{font-size:1.5rem}}ul{padding:0}ul li{list-style-type:none;margin-bottom:.3rem;margin-left:.5rem;padding-left:1.5rem;position:relative}ul li.task-list-item{margin-left:0;padding-left:0}ul li.task-list-item:before{content:""}ul li:before{color:#929292;content:"â€¢";font-size:22px;left:0;line-height:1.1;position:absolute}@media(min-width:620px){ul li{margin-left:1.5rem;padding-left:1.5rem}}a{color:#5183f5;font-weight:500;text-decoration:none}a:active,a:focus,a:hover{color:#2161f2}.lead a:not(.button):not(.anchor):not(.gatsby-resp-image-link),.lead a:not(span.gatsby-resp-image-wrapper),.page a:not(.button):not(.anchor):not(.gatsby-resp-image-link),.page a:not(span.gatsby-resp-image-wrapper),.post a:not(.button):not(.anchor):not(.gatsby-resp-image-link),.post a:not(span.gatsby-resp-image-wrapper){border-radius:4px;padding:1px 2px}.lead a:not(.button):not(.anchor):not(.gatsby-resp-image-link):hover,.lead a:not(span.gatsby-resp-image-wrapper):hover,.page a:not(.button):not(.anchor):not(.gatsby-resp-image-link):hover,.page a:not(span.gatsby-resp-image-wrapper):hover,.post a:not(.button):not(.anchor):not(.gatsby-resp-image-link):hover,.post a:not(span.gatsby-resp-image-wrapper):hover{background:#2161f2;color:#f0f4fe}.lead a:not(.button):not(.anchor):not(.gatsby-resp-image-link):active,.lead a:not(.button):not(.anchor):not(.gatsby-resp-image-link):focus,.lead a:not(span.gatsby-resp-image-wrapper):active,.lead a:not(span.gatsby-resp-image-wrapper):focus,.page a:not(.button):not(.anchor):not(.gatsby-resp-image-link):active,.page a:not(.button):not(.anchor):not(.gatsby-resp-image-link):focus,.page a:not(span.gatsby-resp-image-wrapper):active,.page a:not(span.gatsby-resp-image-wrapper):focus,.post a:not(.button):not(.anchor):not(.gatsby-resp-image-link):active,.post a:not(.button):not(.anchor):not(.gatsby-resp-image-link):focus,.post a:not(span.gatsby-resp-image-wrapper):active,.post a:not(span.gatsby-resp-image-wrapper):focus{background:#0c49d4;color:#f0f4fe}.lead img,.page img,.post img{height:auto;max-width:100%}mark{background:#ffeea8;padding:0 .2rem}b,strong{font-weight:600}blockquote cite{display:block;text-align:right}hr{border:0;border-top:2px solid #ccc;height:0}dt{font-weight:500}dd{margin-bottom:.5rem}[type=checkbox]{margin-right:1rem}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.vertical-center{-ms-flex-align:center;-ms-flex-pack:center;align-items:center;justify-content:center}.flex,.vertical-center{display:-ms-flexbox;display:flex}.show{display:block!important}.hide{display:none!important}.invisible{visibility:hidden}.green{color:#1fc844}.pink{color:#ff5a5f}.blue{color:#5183f5}.yellow{color:#fec623}.crypto p{margin-bottom:.5rem}.screen-reader-text{clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;position:absolute!important;width:1px}.button,[type=button],[type=submit],a.button,button{-webkit-appearance:none;background:#5183f5;border:2px solid #5183f5;border-radius:6px;color:#fff;cursor:pointer;display:inline-block;font-family:Helvetica Neue,Roboto,-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;font-size:1.1rem;font-weight:500;line-height:1;margin:0 0 .5rem;padding:.6rem .9rem;text-align:center;text-decoration:none;text-transform:none;vertical-align:middle}.button:active,.button:focus,.button:hover,[type=button]:active,[type=button]:focus,[type=button]:hover,[type=submit]:active,[type=submit]:focus,[type=submit]:hover,button:active,button:focus,button:hover{background:#0e51ec;border:2px solid #0e51ec;color:#fff;text-decoration:none}.button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=submit]::-moz-focus-inner,a.button::-moz-focus-inner,button::-moz-focus-inner{border:0;padding:0}.button:disabled,[type=button]:disabled,[type=submit]:disabled,a.button:disabled,button:disabled{cursor:default;pointer-events:none}.button:active,[type=button]:active,[type=submit]:active,a.button:active,button:active{-webkit-transform:scale(.95);transform:scale(.95)}.button.muted-button,a.button.muted-bottom{background:#e5e5e5;border:2px solid #e5e5e5;color:#454545}.button.muted-button:active,.button.muted-button:focus,.button.muted-button:hover,a.button.muted-bottom:active,a.button.muted-bottom:focus,a.button.muted-bottom:hover{background:#d9d9d9;border:2px solid #d9d9d9;color:#111}.twitter-button,a.twitter-button{background:#00aced;border:2px solid #00aced}.twitter-button:active,.twitter-button:focus,.twitter-button:hover,a.twitter-button:active,a.twitter-button:focus,a.twitter-button:hover{background:#0099d4;border:2px solid #0099d4;color:#fff}@media(min-width:620px){.button,[type=button],[type=submit],a.button,button{padding:.75rem 1.25rem}}[type=color],[type=date],[type=email],[type=number],[type=search],[type=text],[type=url],select,textarea{border:2px solid #ccc;border-radius:6px;display:block;font-size:1.1rem;font-weight:500;line-height:1;margin-bottom:.5rem;max-width:100%;outline:none;padding:.75rem;width:100%}[type=color]:hover,[type=date]:hover,[type=email]:hover,[type=number]:hover,[type=search]:hover,[type=text]:hover,[type=url]:hover,select:hover,textarea:hover{background:#f7f7f7;border:2px solid #b3b3b3}[type=color]:active,[type=color]:focus,[type=date]:active,[type=date]:focus,[type=email]:active,[type=email]:focus,[type=number]:active,[type=number]:focus,[type=search]:active,[type=search]:focus,[type=text]:active,[type=text]:focus,[type=url]:active,[type=url]:focus,select:active,select:focus,textarea:active,textarea:focus{background:#f0f4fe;border:2px solid #5183f5}textarea{height:auto;line-height:1.6;overflow:auto}fieldset{border:2px solid #ccc;border-radius:6px;margin:2rem 0;padding:60px}legend{font-weight:500;padding:0 .5rem}select{-webkit-appearance:none;-moz-appearance:none;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAJCAYAAAA/33wPAAAAvklEQVQoFY2QMQqEMBBFv7ERa/EMXkGw11K8QbDXzuN4BHv7QO6ifUgj7v4UAdlVM8Uwf+b9YZJISnlqrfEUZVlinucnBGKaJgghbiHOyLyFKIoCbdvecpyReYvo/Ma2bajrGtbaC58kCdZ1RZ7nl/4/4d5EsO/7nzl7IUtodBexMMagaRrs+06JLMvcNWmaOv2W/C/TMAyD58dxROgSmvxFFMdxoOs6lliWBXEcuzokXRbRoJRyvqqqQvye+QDMDz1D6yuj9wAAAABJRU5ErkJggg==) 100% no-repeat;color:#454545;line-height:1}select::-ms-expand{display:none}[type=range]{width:100%}label{display:block;font-size:1rem;font-weight:700;margin:1rem 0 .5rem;max-width:100%}:-moz-placeholder,:-ms-input-placeholder,::-moz-placeholder,::-webkit-input-placeholder{color:#9a9a9a}table{border-collapse:collapse;border-spacing:0;display:block;max-width:100%;overflow-x:auto;white-space:nowrap;width:100%}th{border-bottom:2px solid #ccc}tfoot th{border-top:1px solid #ccc}td{border-bottom:1px solid #ccc}td,th{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding:.75rem!important;text-align:left;width:100%;word-break:break-word}caption{caption-side:bottom;color:#ababab;padding:60px 0}tbody tr:nth-child(2n){background-color:#f8f8f8}.nav{background:#fff;left:0;position:fixed;top:0;-webkit-transition:background .4s ease;transition:background .4s ease;width:100%;z-index:3}.nav.scroll{-webkit-box-shadow:1px 2px 18px rgba(0,0,0,.1);box-shadow:1px 2px 18px rgba(0,0,0,.1)}.nav.scroll .nav-container{padding:0 1.5rem}.nav .cta{margin:0 0 0 .75rem}.nav .cta,.nav .nav-container{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.nav .nav-container{-ms-flex-pack:justify;height:55px;justify-content:space-between;margin:auto;max-width:800px;padding:1.5rem 1.5rem 0;-webkit-transition:height .4s ease;transition:height .4s ease}.nav .nav-container .nav-icon-hide-mobile{display:none}.nav .brand a{-ms-flex-align:center;align-items:center;color:#333;display:-ms-flexbox;display:flex;font-size:1.15rem;font-weight:500;margin-right:0}.nav .brand a:focus,.nav .brand a:hover{color:#000}.nav .links{-ms-flex-pack:end;-ms-flex-align:center;-ms-flex:1 1;flex:1 1;-ms-flex-direction:row;flex-direction:row;justify-content:flex-end;margin:0}.nav .links,.nav .links a{align-items:center;display:-ms-flexbox;display:flex}.nav .links a{-ms-flex-align:center;border-radius:6px;color:rgba(0,0,0,.6);font-size:1.05rem;font-weight:400;line-height:1.2;margin:.25rem;padding:.75rem;text-align:center}.nav .links a.active,.nav .links a:active,.nav .links a:hover{background:rgba(0,0,0,.05);color:#111}.favicon{border-radius:50%;height:40px;margin-bottom:0;margin-right:1rem;min-width:40px;width:40px}button.dark-switcher{-webkit-appearance:none;background:transparent;border:0;margin:0;padding:.75rem .5rem}button.dark-switcher:focus{outline:none}.nav-icons{height:1.3rem;margin-bottom:0;min-width:1.3rem;width:1.3rem}.github-nav-icon{color:#000}.linkedin-nav-icon{color:#0077b5}.twitter-nav-icon{color:#1da1f2}.sun-nav-icon{color:#fcc21b}.moon-nav-icon{color:#7890ff}@media(min-width:620px){.nav.scroll .nav-container{height:60px}.nav.scroll .favicon{height:40px;min-width:40px;width:40px}.nav .nav-container{height:160px;padding:0 2rem}.nav .nav-container .nav-icon-hide-mobile{display:-ms-flexbox;display:flex}.nav .brand a{font-size:1.3rem}.nav .brand .text{display:block}.nav .links{-ms-flex-pack:end;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;height:100%;justify-content:flex-end}.nav .links a{border-bottom:2px solid transparent;font-size:1.2rem;margin:0 .5rem;padding:1rem}.nav .favicon{height:70px;margin-right:1rem;min-width:70px;width:70px}.nav button.dark-switcher{font-size:1.4rem;margin:0;padding:.75rem 1rem}.nav .nav-icons{height:1.65rem;margin-bottom:0;min-width:1.65rem;width:1.65rem}}@media print and (min-width:620px){.nav{display:none}}#main-content{margin-top:55px;min-height:calc(100vh - 190px);padding:40px 0 0}@media(min-width:620px){#main-content{margin-top:140px;min-height:calc(100vh - 360px)}}.container{margin-left:auto;margin-right:auto;max-width:800px;padding:0 1.5rem}@media(min-width:620px){.container{padding:0 2rem}}.lead{font-size:1.1rem;margin:0 auto}.lead h1{font-size:3.2rem;font-weight:600;margin-bottom:1.5rem;margin-top:0}.lead p{color:rgba(0,0,0,.6);font-size:1.6rem}.lead .button{margin-right:.5rem}@media screen and (min-width:750px){.lead{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;font-size:1.2rem;line-height:1.5}.lead .elevator{-ms-flex:2 1;flex:2 1;margin-left:2rem}.lead h1{font-size:4rem}.lead p{font-size:1.65rem}.lead .button{margin-right:.5rem}}.callouts{display:none}@media(min-width:620px){.callouts{display:block}a.article-callout{-ms-flex-align:center;align-items:center;border:none!important;border-radius:4px;-webkit-box-shadow:1px 2px 10px rgba(0,0,0,.1);box-shadow:1px 2px 10px rgba(0,0,0,.1);color:#454545;display:-ms-flexbox;display:flex;font-size:1.5rem;font-weight:500;margin:1.5rem 0;padding:1.5rem;-webkit-transition:all .3s ease;transition:all .3s ease}a.article-callout:active,a.article-callout:focus,a.article-callout:hover{background:#fff;-webkit-box-shadow:3px 5px 20px rgba(0,0,0,.16);box-shadow:3px 5px 20px rgba(0,0,0,.16);color:#111}a.article-callout img{height:50px;margin:0 1.5rem 0 0;max-width:50px;width:50px}}.front-page{margin-top:2rem;padding:0 2rem}.front-page h2{-ms-flex-align:center;-ms-flex-pack:justify;align-items:center;border-bottom:0;display:-ms-flexbox;display:flex;justify-content:space-between;padding-bottom:0}@media(min-width:620px){.front-page h2{-ms-flex-pack:start;justify-content:flex-start}}.single .gatsby-image-wrapper{height:50px!important;width:50px!important}@media(min-width:620px){.single .gatsby-image-wrapper{-ms-flex-order:1;height:150px!important;margin-left:2rem;order:1;width:150px!important}.front-page{padding:0 4rem}}.single-header{display:grid;margin-bottom:30px}.single-header .flex,.single-header.no-thumbnail{display:-ms-flexbox;display:flex}.single-header .flex{-ms-flex-direction:column;flex-direction:column}.single-header h1{font-weight:600;margin:.5rem 0}.single-header .post-meta{margin-bottom:1rem}@media(min-width:620px){.single-header{display:grid;grid-template-columns:1fr 180px;margin-bottom:60px}.single-header h1{margin:0 0 .5rem}}.post-container{display:-ms-flexbox;display:flex}.posts a{display:block}.posts a .each{border:1px solid transparent;border-bottom-color:#ebebeb;display:grid;grid-template-columns:50px 1fr 0;margin:0;padding:1rem 0}.posts a .each .date{color:rgba(0,0,0,.4);font-size:.9rem;font-weight:400;margin:0}.posts a:last-of-type .each{border-bottom-color:transparent}.posts h2{border-bottom:none;font-size:1.25rem;font-weight:500;line-height:2rem;margin:0;padding:0}.posts .gatsby-image-wrapper{height:30px!important;margin-top:0;width:30px!important}.posts.simple a .each{-ms-flex-align:center;align-items:center;border:1px solid transparent;grid-template-columns:50px 2fr auto;margin:0;padding:.5rem 0}.posts.simple a .each:hover{background:#fff}.posts.simple a:last-of-type .each{border-bottom:1px solid transparent!important}.posts.simple .gatsby-image-wrapper{height:30px!important;margin-top:0;width:30px!important}.posts.simple h2{color:#454545;font-size:1.2rem;font-weight:500;margin:0;padding:0}.posts.simple h2:hover{color:#111}.posts .datetime{display:block}.posts .datetime,.posts .excerpt{color:rgba(0,0,0,.6);font-size:1.1rem;font-weight:400}.posts .excerpt{margin-top:1rem}@media(min-width:620px){.posts a .each{-ms-flex-align:start;align-items:start;grid-template-columns:80px 1fr;margin:0 -2rem;padding:2rem}.posts a .each:hover{background:#fafafa;border-radius:6px}.posts a .each:hover h2{color:#111}.posts a .each:active,.posts a .each:focus{background:#f0f4fe;border:1px dashed #5183f5}.posts a .each h2{font-size:1.35rem;line-height:2rem;margin:0 0 .25rem}.posts a .each .gatsby-image-wrapper{height:50px!important;margin-top:0;width:50px!important}.posts.simple a .each{border-bottom:1px solid #ebebeb;margin:0 -1rem;padding:.75rem 1rem}.posts.simple a .each:hover{background:#f2f2f2;border:1px solid #f2f2f2}.posts.simple a .each:active,.posts.simple a .each:focus{background:#f0f4fe;border:1px dashed #5183f5}.posts.simple a .each h2{font-size:1.3rem;margin:0}.posts.simple a .each .gatsby-image-wrapper{height:30px!important;width:30px!important}}.page h2,.post h2{border-bottom:1px solid #ebebeb}.tag-container a,.tag-container span{display:inline-block}.tag-container span{background:#f2f2f2;border-radius:6px;color:#5f5f5f;font-size:1rem;font-weight:400;margin:0 .5rem .5rem 0;padding:.3rem .5rem}.tag-container span .count{color:#5183f5;font-weight:700;margin-left:.25rem}.tag-container span:active,.tag-container span:focus,.tag-container span:hover{background:#e5e5e5;color:#454545}.tag-container.articles-page-tags{margin-bottom:1rem}@media(min-width:620px){.tag-container span{font-size:1rem;font-weight:500;padding:.3rem .8rem}.tag-container span .count{margin-left:.5rem}.tag-container.articles-page-tags{display:-ms-flexbox;display:flex;margin-bottom:2rem}.tag-container.articles-page-tags a{-ms-flex:1 1;flex:1 1}.tag-container.articles-page-tags a span{-ms-flex-pack:center;display:-ms-flexbox;display:flex;justify-content:center}}.post-meta{-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.6);display:-ms-inline-flexbox;display:inline-flex;font-size:1.3rem}.post-meta .date{margin-right:.5rem}.post-meta a.comment-link,.post-meta a.github-link,.post-meta a.twitter-link{margin:0 .5rem}@media(min-width:620px){.post-meta{font-size:1.4rem}}blockquote{background:#fff4d5;border:2px solid #ffedbb;border-radius:6px;color:rgba(0,0,0,.8);font-size:1rem;font-weight:500;line-height:1.6;margin:1.5rem 0;padding:1.5rem}blockquote p{font-size:1.15rem;padding:0}blockquote p:last-child{margin-bottom:0}blockquote a{border-bottom:none!important;color:#111}blockquote a:active,blockquote a:focus,blockquote a:hover{background:#ffebb1!important;color:#111!important}blockquote code{margin:1rem 0 0}blockquote ul:last-of-type{margin-bottom:0}@media(min-width:620px){blockquote{padding:2rem}blockquote p{font-size:1.5rem}blockquote cite{font-size:2rem}}.search{margin-bottom:0}.filter-count{color:#2161f2;font-size:1.4rem;font-weight:500;text-align:center;width:80px}.emoji-in-button{font-size:1.5rem;line-height:0;margin-left:.75rem}.search-container{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;margin-bottom:2rem}.category-container{-ms-flex-pack:start;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-content:flex-start;margin-bottom:1.5rem}.category-container .category-filter{-ms-flex-align:center;align-items:center;background:#ebf1fe;border-radius:6px;color:#2161f2;cursor:pointer;display:-ms-flexbox;display:flex;font-size:.85rem;font-weight:500;margin-bottom:.5rem;margin-right:.5rem;padding:.5rem .75rem}.category-container .category-filter .count{-ms-flex-align:center;-ms-flex-pack:center;align-items:center;border-radius:50%;color:#5183f5;display:-ms-flexbox;display:flex;font-size:.8rem;height:23px;justify-content:center;margin-left:1rem;padding:5px;width:23px}.category-container .category-filter.active{background:#5183f5;color:#fff}.category-container .category-filter.active .count{background:#fff}.category-container .category-filter.active:active,.category-container .category-filter.active:focus,.category-container .category-filter.active:hover{background:#2161f2;color:#fff}.category-container .category-filter:last-of-type{margin-right:0}.category-container .category-filter:hover{background:#d8e3fd;color:#3972f4}@media(min-width:620px){.category-container{margin-bottom:1.5rem}.category-container .category-filter{font-size:1rem;padding:.5rem 1rem}}.footer{-ms-flex-pack:justify;color:rgba(0,0,0,.6);-ms-flex-direction:column;flex-direction:column;justify-content:space-between;margin-top:2.5rem}.footer,.footer div{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.footer div{padding-bottom:1.5rem}.footer strong{margin-right:1rem}.footer a{color:rgba(0,0,0,.6);display:block;font-weight:400;margin-right:1.5rem}.footer a:hover{color:rgba(0,0,0,.8)}.footer .footer-img{height:30px;margin-bottom:0;width:30px}@media(min-width:620px){.footer{-ms-flex-direction:row;flex-direction:row;height:100px;margin:60px auto}}iframe{margin-bottom:0}[type=submit]:disabled,[type=submit]:disabled:active,[type=submit]:disabled:focus,[type=submit]:disabled:hover,button[disabled],button[disabled]:active,button[disabled]:focus,button[disabled]:hover{opacity:.5}::-moz-selection{background:rgba(255,235,20,.7);color:#111}::selection{background:rgba(255,235,20,.7);color:#111}@media print{.footer{display:none}}#remark42{margin-top:4.5rem}code{font-size:13px}pre.language-shell-session code.language-shell-session{background:#fff;border:1px solid #d8d9da;border-radius:6px;-webkit-box-shadow:3px 5px 20px rgba(0,0,0,.16);box-shadow:3px 5px 20px rgba(0,0,0,.16);color:#333;font-family:Menlo,Roboto Mono,Courier New,monospace;font-size:13px;margin:2rem 0;padding:45px 1rem 1rem;position:relative}pre.language-shell-session code.language-shell-session:before{background:#e1e1e1;color:#c2c3c4;content:"â€¢â€¢â€¢";font-size:2.5rem;height:25px;left:0;letter-spacing:-15px;line-height:0;margin:0;padding:14px 0;position:absolute;text-indent:4px;top:0;width:100%}code[class*=language-],pre[class*=language-],pre code{-webkit-font-smoothing:subpixel-antialiased;border-radius:6px;color:#b3b9c5;direction:ltr;font-family:Menlo,Roboto Mono,Courier New,monospace;font-size:13px;font-weight:400;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.7;margin:2rem 0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre-wrap;word-break:normal;word-spacing:normal}pre code{background-color:#333;border:0;-webkit-box-shadow:2px 4px 25px rgba(0,0,0,.15);box-shadow:2px 4px 25px rgba(0,0,0,.15);display:block;overflow:auto;padding:1.5rem}kbd{background-color:#f7f7f7;border:2px solid rgba(0,0,0,.3);border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 2px #fff;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 2px #fff;color:#333;display:inline-block;font-family:Helvetica Neue,Roboto,-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;margin:0 .1em;padding:.1em .6em;text-shadow:0 1px 0 #fff}:not(pre)>code,:not(pre)>code[class*=language-]{color:#111;font-weight:500;padding:3px 5px}:not(pre)>code{background:rgba(0,0,0,.06);border:none;border-radius:4px;font-family:Menlo,Roboto Mono,Courier New,monospace}code[class*=language-css],code[class*=language-less],code[class*=language-sass],code[class*=language-scss]{color:#c9c}.filename{background:#111;border-top-left-radius:6px;border-top-right-radius:6px;color:#fff;font-size:1rem;font-weight:700;margin-bottom:-2.3rem;padding:.5rem 1rem .75rem}@media(min-width:620px){code,code[class*=language-],pre.language-shell-session code.language-shell-session,pre[class*=language-],pre code{font-size:14px}}.token.doctype{background:#000;color:#fff}.token.cdata,.token.comment,.token.prolog{color:#848991}.token.namespace{opacity:.7}.token.attr-value,.token.string{color:#92d192}.token.punctuation{color:#d5d8df}.token.operator{color:#ac8d58}.token.variable{color:#f2777a}.token.property{color:#abb2bf}.token.builtin{color:#4a7baa}.token.parameter{color:#848991}.token.boolean,.token.constant{color:#e1a6f2}.token.entity,.token.inserted,.token.number,.token.regex,.token.symbol,.token.url{color:#fca369}.token.delimiter{background:#000;color:#fff;padding:1px 2px}.token.atrule{color:#62cfcf}.token.keyword{color:#ffeead}.language-autohotkey .token.selector{color:#fca369}.token.attr-name{color:#ffd479}.token.function{color:#62cfcf}.language-php .token.function{color:#fff}.token.class-name{color:#e1a6f2}.language-autohotkey .token.tag,.token.deleted{color:#f2777a}.token.tag{color:#6ab0f3}.language-autohotkey .token.keyword{color:#ffeead}.token.selector{color:#ffd479}.token.italic{font-style:italic}pre[data-line]{padding:1rem 0;position:relative}.line-highlight{background:rgba(150,150,150,.1);left:0;line-height:inherit;margin-top:1rem;padding-bottom:inherit;padding-left:0;padding-right:0;padding-top:inherit;pointer-events:none;position:absolute;right:0;white-space:pre}.line-highlight:before,.line-highlight[data-end]:after{background-color:transparent;border-radius:999px;color:transparent;content:attr(data-start);font:700 65%/1.5 sans-serif;left:.6em;min-width:1em;padding:0 .5em;position:absolute;text-align:center;text-shadow:none;top:.4em;vertical-align:.3em}.line-highlight[data-end]:after{bottom:.4em;content:attr(data-end);top:auto}.line-numbers .line-highlight:after,.line-numbers .line-highlight:before{content:none}code::-moz-selection,pre::-moz-selection{background:rgba(150,150,150,.3)!important;color:inherit;text-shadow:none}code::selection,pre::selection{background:rgba(150,150,150,.3)!important;color:inherit;text-shadow:none}code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:rgba(150,150,150,.3)!important;color:inherit;text-shadow:none}code[class*=language-] ::selection,pre[class*=language-]::selection{background:rgba(150,150,150,.3)!important;color:inherit;text-shadow:none}.gatsby-highlight-code-line{background-color:#191919;border-left:.25em solid #92d192;display:block;margin-left:-1em;margin-right:-1em;padding-left:.75em;padding-right:1em}.dark{background:#202020;color:#b3b9c5}.dark a{color:#6ab0f3}.dark a:active,.dark a:focus,.dark a:hover{background:transparent;color:#238aed}.dark .lead h1{color:#eee}.dark .lead a:not(.button):not(.anchor):not(.gatsby-resp-image-link){background:transparent!important;border-bottom:none}.dark .lead a:not(.button):not(.anchor):not(.gatsby-resp-image-link):hover{color:#238aed}.dark .page a:not(.button):not(.anchor):not(.gatsby-resp-image-link),.dark .page a:not(span.gatsby-resp-image-wrapper),.dark .post a:not(.button):not(.anchor):not(.gatsby-resp-image-link),.dark .post a:not(span.gatsby-resp-image-wrapper){border-bottom:2px solid transparent;padding:1px 2px}.dark .page a:not(.button):not(.anchor):not(.gatsby-resp-image-link):active,.dark .page a:not(.button):not(.anchor):not(.gatsby-resp-image-link):focus,.dark .page a:not(.button):not(.anchor):not(.gatsby-resp-image-link):hover,.dark .page a:not(span.gatsby-resp-image-wrapper):active,.dark .page a:not(span.gatsby-resp-image-wrapper):focus,.dark .page a:not(span.gatsby-resp-image-wrapper):hover,.dark .post a:not(.button):not(.anchor):not(.gatsby-resp-image-link):active,.dark .post a:not(.button):not(.anchor):not(.gatsby-resp-image-link):focus,.dark .post a:not(.button):not(.anchor):not(.gatsby-resp-image-link):hover,.dark .post a:not(span.gatsby-resp-image-wrapper):active,.dark .post a:not(span.gatsby-resp-image-wrapper):focus,.dark .post a:not(span.gatsby-resp-image-wrapper):hover{background:#3b97ef;border-radius:4px;color:#fff}.dark .page img,.dark .post img{height:auto;max-width:100%}.dark .page h2,.dark .post h2{border:none;color:#ffd479}.dark :not(pre)>code{background:rgba(255,255,255,.1);color:#b3b9c5}.dark .nav{background:#202020;border-color:#202020}.dark .nav.scroll{background:#131313;border-color:#131313}.dark .nav .brand a{color:#c1c6d0}.dark .nav .brand a:hover{color:#eee}.dark .nav .links a{color:#8891a4}.dark .nav .links a.active,.dark .nav .links a:hover{background:rgba(0,0,0,.2)}.dark .nav .links a:hover{color:#b3b9c5}.dark .nav .links a.active{color:#6ab0f3}.dark li,.dark ol,.dark p,.dark ul{color:#b3b9c5}.dark h2{border-color:#303030}.dark h1,.dark h2,.dark h3,.dark h4,.dark h5{color:#eee}.dark .posts.simple a .each{border-color:transparent transparent #181818}.dark .posts.simple a .each h2{color:#9fa3a9}.dark .posts.simple a .each:hover{background:#303030}.dark .posts a .each{border:1px solid transparent;border-bottom-color:#181818}.dark .posts a .each h2{color:#ccc}.dark .posts a .each:hover{background:#303030!important;border-color:#303030}.dark .posts a .each:hover h2{color:#fff}.dark .posts a .datetime{color:#848991}.dark .posts a .excerpt{color:rgba(255,255,255,.3)}.dark .tag-container span{background:rgba(0,0,0,.2);border:none;color:#b3b9c5}.dark .tag-container span .count{color:#ff5a5f}.dark .tag-container span:active,.dark .tag-container span:focus,.dark .tag-container span:hover{background:#111;border:none;color:#fff}.dark .post-meta{color:#848991}.dark th{border-bottom:2px solid #131313}.dark tfoot th{border-top:2px solid #0c0c0c}.dark td{border-bottom:2px solid #0c0c0c}.dark tbody tr:nth-child(2n){background-color:#2d2d2d}.dark pre code{background:#3a3a3a}.dark blockquote{background:rgba(0,0,0,.2);border:2px solid #393939}.dark blockquote p{color:#fed356}.dark blockquote a{border-bottom:#fed356!important;color:#fff4d5!important}.dark blockquote a:hover{background:#111!important;color:#febf0a!important}.dark blockquote.quotation{background:rgba(0,0,0,.2);border-color:#3a3a3a;-webkit-box-shadow:none;box-shadow:none;color:#fed356}.dark blockquote.quotation cite{color:#fff}.dark cite{color:rgba(255,255,255,.4)}.dark .footer,.dark .footer strong{color:#b3b9c5}.dark .footer a{color:#8891a4}.dark .footer a:hover{color:#d0d4db}.dark [type=color],.dark [type=date],.dark [type=email],.dark [type=number],.dark [type=search],.dark [type=text],.dark [type=url],.dark select,.dark textarea{background:#333!important;border:2px solid #444;color:#b3b9c5}.dark [type=color]:hover,.dark [type=date]:hover,.dark [type=email]:hover,.dark [type=number]:hover,.dark [type=search]:hover,.dark [type=text]:hover,.dark [type=url]:hover,.dark select:hover,.dark textarea:hover{border:2px solid #505050}.dark [type=color]:active,.dark [type=color]:focus,.dark [type=date]:active,.dark [type=date]:focus,.dark [type=email]:active,.dark [type=email]:focus,.dark [type=number]:active,.dark [type=number]:focus,.dark [type=search]:active,.dark [type=search]:focus,.dark [type=text]:active,.dark [type=text]:focus,.dark [type=url]:active,.dark [type=url]:focus,.dark select:active,.dark select:focus,.dark textarea:active,.dark textarea:focus{border:2px solid #6ab0f3}.dark .button,.dark [type=button],.dark [type=submit],.dark a.button,.dark button{background:#0f64b5!important;border:2px solid transparent;color:#fff}.dark .button:disabled,.dark [type=button]:disabled,.dark [type=submit]:disabled,.dark a.button:disabled,.dark button:disabled{cursor:default;opacity:.3;pointer-events:none}.dark .button:active,.dark .button:focus,.dark .button:hover,.dark [type=button]:active,.dark [type=button]:focus,.dark [type=button]:hover,.dark [type=submit]:active,.dark [type=submit]:focus,.dark [type=submit]:hover,.dark a.button:active,.dark a.button:focus,.dark a.button:hover,.dark button:active,.dark button:focus,.dark button:hover{background:#127ee5!important;border:2px solid transparent;color:#fff}.dark .new,.dark .popular{background:rgba(0,0,0,.2)}.dark .popular{color:#92d192}.dark .button.muted-button,.dark a.button.muted-bottom{border:2px solid #848991;color:#848991}.dark .button.muted-button:active,.dark .button.muted-button:focus,.dark .button.muted-button:hover,.dark a.button.muted-bottom:active,.dark a.button.muted-bottom:focus,.dark a.button.muted-bottom:hover{background:transparent;border:2px solid #b3b9c5;color:#b3b9c5}.dark button.dark-switcher{background:transparent!important;border:none!important}.dark pre.language-shell-session code.language-shell-session{background:#111;border:2px solid #666;color:#ccc}.dark pre.language-shell-session code.language-shell-session:before{background:#303030;color:#888}.dark .category-container .category-filter{background:rgba(0,0,0,.2);color:#6ab0f3;cursor:pointer;font-weight:500}.dark .category-container .category-filter.active{background:#6ab0f3!important;color:#fff!important}.dark .category-container .category-filter:last-of-type{margin-right:0}.dark .category-container .category-filter:hover{background:#111;color:#99c9f7}.dark .filter-count{color:#6ab0f3}.dark mark{background:#127ee5;color:#fff}.dark ::-moz-selection{background:#6ab0f3;color:#fff}.dark ::selection{background:#6ab0f3;color:#fff}.dark path{stroke:#ffeead}.dark .github-nav-icon{color:#fff}.not-found{background:#000084;color:#bbb;font-family:PerfectDOS,Courier New,monospace;font-size:16px;font-weight:400;height:100vh}.not-found #main-content{margin:0;padding-top:80px}.not-found button.dark-switcher,.not-found footer.footer{display:none}.not-found h1{background:#bbb;-webkit-box-shadow:10px 10px 0 #000;box-shadow:10px 10px 0 #000;color:#000;display:inline-block;font-family:PerfectDOS,Courier New,monospace;font-weight:600;margin-bottom:40px;padding:10px 20px}.not-found p{font-size:16px}.not-found .list p:not(:last-of-type){margin-bottom:5px}.not-found .bullet{margin-right:30px}.not-found .error-msg{color:#ff0}.not-found .nav{background:#bbb;border-bottom:2px solid #bbb;color:#000;height:30px}.not-found .nav .nav-container{height:30px;padding:0}.not-found .nav .nav-container .brand{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.not-found .nav .nav-container .brand,.not-found .nav .nav-container .brand a,.not-found .nav .nav-container .links{height:30px}.not-found .nav .nav-container .brand a,.not-found .nav .nav-container .links a{border-radius:0;color:#000;font-size:16px;font-weight:600;line-height:30px;margin:0;padding:0 5px}.not-found .nav .nav-container .brand a:active,.not-found .nav .nav-container .brand a:focus,.not-found .nav .nav-container .brand a:hover,.not-found .nav .nav-container .links a:active,.not-found .nav .nav-container .links a:focus,.not-found .nav .nav-container .links a:hover{background:#000;color:#bbb}.not-found .nav .nav-container a.kofi-button{background:#0aa;border:none;border-radius:0;color:#eee;display:none;height:30px}.not-found .nav .nav-container a.kofi-button:active,.not-found .nav .nav-container a.kofi-button:focus,.not-found .nav .nav-container a.kofi-button:hover{background:#000;border:none;color:#fff}@media(min-width:900px){.not-found{font-size:24px}.not-found #main-content{padding-top:160px}.not-found .nav .nav-container .brand a,.not-found .nav .nav-container .links a{font-size:24px;padding:0 15px}.not-found p{font-size:24px}.not-found .emoji,.not-found img{display:none}}.blink{-webkit-animation:blinkingText .8s infinite;animation:blinkingText .8s infinite}@-webkit-keyframes blinkingText{0%{opacity:0}49%{opacity:0}50%{opacity:1}}@keyframes blinkingText{0%{opacity:0}49%{opacity:0}50%{opacity:1}}</style><meta name="generator" content="Gatsby 3.10.1"/><title data-react-helmet="true">Migrating from VMs to Docker â€“ Calvin Bui</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="data:image/png;base64,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"/><meta data-react-helmet="true" name="description" content="My journey from VMware ESXi to purely Docker. Setup 1 - 2014: VMware ESXi VMs  When I first started my homelab 5 years ago, I went withâ€¦"/><meta data-react-helmet="true" name="image" content="https://calvin.me/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png"/><meta data-react-helmet="true" property="og:url" content="https://calvin.me/migrating-from-vms-to-docker"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Migrating from VMs to Docker"/><meta data-react-helmet="true" property="og:description" content="My journey from VMware ESXi to purely Docker. Setup 1 - 2014: VMware ESXi VMs  When I first started my homelab 5 years ago, I went withâ€¦"/><meta data-react-helmet="true" property="og:image" content="https://calvin.me/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="Migrating from VMs to Docker"/><meta data-react-helmet="true" name="twitter:description" content="My journey from VMware ESXi to purely Docker. Setup 1 - 2014: VMware ESXi VMs  When I first started my homelab 5 years ago, I went withâ€¦"/><meta data-react-helmet="true" name="twitter:image" content="https://calvin.me/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://calvin.me/","name":"Migrating from VMs to Docker","alternateName":"Calvin Bui"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://calvin.me/migrating-from-vms-to-docker","name":"Migrating from VMs to Docker","image":"https://calvin.me/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://calvin.me/","name":"Migrating from VMs to Docker","alternateName":"Calvin Bui","headline":"Migrating from VMs to Docker","image":{"@type":"ImageObject","url":"https://calvin.me/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png"},"description":"My journey from VMware ESXi to purely Docker. Setup 1 - 2014: VMware ESXi VMs  When I first started my homelab 5 years ago, I went withâ€¦"}]</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 100)
          }), 0)
        }
      }
    })
  </script><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#3F80FF"/><link rel="apple-touch-icon" sizes="48x48" href="/favicon/favicon-48.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/favicon/favicon-1024.png"/><link rel="alternate" type="application/rss+xml" title="Calvin Bui - RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-75161fa3237a94e62c26.js"/><link as="script" rel="preload" href="/framework-0952d05df8291876483e.js"/><link as="script" rel="preload" href="/app-a4f379f8d588de2356d7.js"/><link as="script" rel="preload" href="/1bfc9850-846e536cc7c42c63a083.js"/><link as="script" rel="preload" href="/95b64a6e-b3956967be527516c6c3.js"/><link as="script" rel="preload" href="/0c428ae2-8645a111f436fabc2d8a.js"/><link as="script" rel="preload" href="/9c7e749333147a39e3ef652a529fb524f3568be7-56e2afb85970b04105aa.js"/><link as="script" rel="preload" href="/47f38362120cd2cdba877e108f8a5f6ae3a5eef6-17decb788595cd62055c.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-64d8ea671b8a77e0788a.js"/><link as="fetch" rel="preload" href="/page-data/migrating-from-vms-to-docker/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body class="theme "><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="nav"><div class="nav-container"><div class="brand"><a href="/"><img src="/static/avatar-fc7b5d563e8c0ce28625ebf13d1a1252.png" class="favicon" alt="Avatar"/><span class="text">Calvin Bui</span></a></div><div class="links"><a href="https://git.io/calvin"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="nav-icons github-nav-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://twitter.com/ASAPCalvin"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="nav-icons twitter-nav-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="https://linkedin.com/in/c-bui"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="nav-icons linkedin-nav-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><div class="cta"><button class="dark-switcher" aria-label="Toggle Dark Mode." title="Toggle Dark Mode"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="nav-icons moon-nav-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M14.53 10.53a7 7 0 01-9.058-9.058A7.003 7.003 0 008 15a7.002 7.002 0 006.53-4.47z" clip-rule="evenodd"></path></svg></button></div></div></div></nav><main id="main-content"><article class="single container"><header class="single-header "><div data-gatsby-image-wrapper="" style="width:150px;height:150px" class="gatsby-image-wrapper"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;width:150px;height:150px;position:relative"></div><picture><source type="image/webp" data-srcset="/static/4ece3515b450a72ae1b32c3cf5b38cc4/3554d/thumbnail.webp 150w,/static/4ece3515b450a72ae1b32c3cf5b38cc4/c437f/thumbnail.webp 300w" sizes="150px"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="150px" decoding="async" loading="lazy" data-src="/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png" data-srcset="/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png 150w,/static/4ece3515b450a72ae1b32c3cf5b38cc4/67d4a/thumbnail.png 300w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="/static/4ece3515b450a72ae1b32c3cf5b38cc4/3554d/thumbnail.webp 150w,/static/4ece3515b450a72ae1b32c3cf5b38cc4/c437f/thumbnail.webp 300w" sizes="150px"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="150px" decoding="async" loading="lazy" src="/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png" srcSet="/static/4ece3515b450a72ae1b32c3cf5b38cc4/ccc8a/thumbnail.png 150w,/static/4ece3515b450a72ae1b32c3cf5b38cc4/67d4a/thumbnail.png 300w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><div class="flex"><h1>Migrating from VMs to Docker</h1><div class="post-meta"><time class="date">December 24th, 2019</time>/<a class="github-link" href="https://github.com/calvinbui/calvin.me/edit/master/posts/2019-12-24-migrating-from-vms-to-docker/index.md" target="_blank" rel="noopener noreferrer">Edit</a></div><div class="tag-container"><a style="text-decoration:none" href="/tags/docker/"><span>docker</span></a><a style="text-decoration:none" href="/tags/vmware/"><span>vmware</span></a><a style="text-decoration:none" href="/tags/vlans/"><span>vlans</span></a></div></div></header><div class="post"><p>My journey from VMware ESXi to purely Docker.</p>
<!-- more -->
<h2 id="setup-1---2014-vmware-esxi-vms" style="position:relative;"><a href="#setup-1---2014-vmware-esxi-vms" aria-label="setup 1   2014 vmware esxi vms permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup 1 - 2014: VMware ESXi VMs</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/6ce04e798b4a05cc5e3e9c3a472563d0/399e3/v1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 43.1924882629108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACt0lEQVQoz0WM3U9ScRjHf130D7hcddHGSiUhziElm4qmpmhLkfD1HDW28oVjoLN54Roqs625uumiLgQyVORlnjVdF71emMcQX+IQvhRGKC6jS44FLl94GubmxWffPd/n8zyo2Ci7W2yUqQsNBVSxsYgqNsk0MqNM9eNhKhnt52t/96dQfx4kUVv9qdTuoxTNbOd5IpmPqzJwTJMmElFxJDhOpWOYVoJhySjTKoOSF1VAvmqG8ok6kNquQbatJBJ6Ivi19zgJ/przYMd6HbYHMgCeJsOcLjWUyMe3hWliKCqXw9WyUhBK0iEZw4AvxlWoi5Iu3muRTurV+dM66grTReW4uqic8c8qkdXfIJjzNYimfKqL076bIiagEs5OVVywNvLFE+0CzNWJpTOduITRCsVTWgE+rxWKC9EyTwT+zMLdVUku+PDsmA/LAm/i2U1nAs83L7gMnixZjE3PBfZSQWyOLwHXCd7XpTPnQv6cAviWnR9bzZDC97yi/SUeH7yneATquaFe15MdCz1kh6enWsv2Vt5Z7lY0v9PLmyb6KltX7pMdbj3R7umr1rB9FdSyXt40ritreq+vblvqre1gdVVtbG+Vxt0tb/miK20sQci4DsgQ2Do59jN6bHgjggYC+8gU9CPThgcZ1mJoMBg5TYei6FkwggzrMWQKssgUDKCBwN7xkY1ogmMzigxrkYM/pvVqpDTb1pRm23y9xcHWDNvdiud2b83Q6CQ5NPJGMWhZrDRb3PUWKxvP+EwOj7yuGRr9oDDbvbUjdnedxeFWmm2flGbbitJsK0HgVAA4FTvwsRzAGUfxn5kKAE9rDNhWgIVbAO5mAFYdA6fyyIn7B3eK/cOOQGGGeBtmCAfHEHT4EI6ppTmGpDnnbZpztdDcTCPNudQ0N9NMc4f7I/cgx8IM8TLMENJ/uiqUOq3HZV8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="v1.png"
        title="v1.png"
        src="/static/6ce04e798b4a05cc5e3e9c3a472563d0/d6170/v1.png"
        srcset="/static/6ce04e798b4a05cc5e3e9c3a472563d0/53f68/v1.png 213w,
/static/6ce04e798b4a05cc5e3e9c3a472563d0/df70d/v1.png 425w,
/static/6ce04e798b4a05cc5e3e9c3a472563d0/d6170/v1.png 850w,
/static/6ce04e798b4a05cc5e3e9c3a472563d0/12c14/v1.png 1275w,
/static/6ce04e798b4a05cc5e3e9c3a472563d0/399e3/v1.png 1620w"
        sizes="(max-width: 850px) 100vw, 850px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>When I first started my homelab 5 years ago, I went with <a href="https://www.vmware.com/au/products/esxi-and-esx.html">VMware ESXi</a> as my hypervisor and a slew of <a href="https://ubuntu.com/">Ubuntu</a>/<a href="https://www.centos.org/">CentOS</a> virtual machines because that's what I had learnt from my <a href="https://www.ibm.com/au-en/employment/internship.html">internship at IBM</a>. This, combined with <a href="https://en.wikipedia.org/wiki/Virtual_LAN">VLANs</a> for network separation gave me a complete virtualisation environment where I could do whatever I wanted without comprising any service.</p>
<p>The <em>benefits</em> of this setup were:</p>
<ul>
<li><a href="https://kb.vmware.com/s/article/1015180#Whatisasnapshot">Virtual machine snapshots</a> for quick rollbacks and testing</li>
<li>Resize/stop/start virtual machines whenever a particular application was needed</li>
<li>Each application ran in its own virtualised server so it didn't need to contend with others for resources</li>
</ul>
<p>The <em>downsides</em> of this setup were:</p>
<ul>
<li>Installing the OS, installing packages, setting up SSH, setting up networking and other things whenever I set up a new virtual machine</li>
<li>I had to test each piece of software individually for how much memory and disk space was necessary, then delete it all do a proper build from scratch</li>
<li>Always running out of RAM as I was limited to 32GB</li>
</ul>
<h2 id="setup-2---2017-vmware-esxi-vms-with-docker" style="position:relative;"><a href="#setup-2---2017-vmware-esxi-vms-with-docker" aria-label="setup 2   2017 vmware esxi vms with docker permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup 2 - 2017: VMware ESXi VMs with Docker</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/15d890f2b02501814ff4960938431097/b1bc2/v2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 105.1643192488263%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFXUlEQVQ4y0WRa0xTZxjHD9r6YX5asuzygSwuApvZuHjB6UKh79v2ALU3bsUrlFqETWfiotFPc8u+LcsiWzIro+e0crEtbBa3uVBaKgdoqdLScygxzjAl04QWJ5UT3bj4LOf0TD88+b/P//393/c9zyEwTb6OKM0+TJNVmCa1iNKoEUXuxjSpkzwdojRCr5Z6JKkK06SQU2KarBZ8RGlyCEyTBkRpANMkCIpoMoMoMiSuX/o3ME1mpHVK9CnNktBjmnz4v1Y4VHICURqdBK5JuogocliC/pU0kPU1K5gmH2CaXEOUJq2k1MLefSWlXldS6vvaboOcUDkrdeUODPXuxrV6934od+BFTJPDKroSWn3tK6RLC2VdKFB7xbxo6qtfJV3aB0d9bWsqujJ9wHsYNM7q+/Xu/c91PaZ54hQhJ9TOKvHARs/B9SMDFlB0oUcqujIg3N42+MmKrscEH/1YHqi90vDI5mtbRZTmYfu148KL0q2+djD11c83eg49t15tnSd2E3JC46zWlXUpofkn67oAlHUpxQOFOZ26fnpF32OCvZ2KwMH+pkft106sCrM6M3RuHdNk+vgvJ8HYWzd/ZMDy/Njgx/PENkJOYLpSJ7xG221Y1XYbQLgZ06RfONDQW/uP2lkFFQ7VcNVlXXpft1GY6V/CpyOKXBBer6Ir71Vd1q1puw33ZOdfkROIJk3C4JWURixMk88wTY4LXgWlBkSJP2VCSWmeST9hqSKrT6V+Ucou6npq5ARy4L3IgccRhUcQhRnkQIPIofwGUTiMKBxADhxROtC3iMLXhF7pQAMi60A+TOFx5EAeROEQorBX0VUuI6wRrtQa4X6zRjjf0Qjnaw6zg5ZwVq0R7qo1wv1ujXBfWSNcd0uE+1VgWsLcYHOY9TVNvGCEvMMa4WRES3S2tiU6C82Ts3A2cRe+TP4J52fm4POZORB8qaas0dn1pskknIrfEZkvZuZE7tit22CZFBm+JTq7ibAxcYWNiXM2JjbVzsRjn04kXtTRG1NTNiY+a2Pil2xj8aCNibFtTCx2Qto/OZGItY6KDGdj4tdtTFxOBPMKlcG8wjvBguKZ4LYdyeH8ouRwfnFyuKA4GXp/10wwr3AumFdIBbYWjgcLiu+8YApKRG5EYPKL/ghuLQwE84vkxNiW92qY3Dy4uVcJnPkwTFcZIE7qYEpZCWxNI4y9sw2Yt9+NMrl5K5GSD0VvutoEiX01EENVkNDXQfiDncDk5mWipWWbCG+xYo+3qCzUv13pHyhV+T27VP6+Hcjfv0Mp1JC3WMF4ixRfe4sUA96S8pGBXdjvLVWLjGcn8vdvrxjylpSHvEWK3v7tFTJCZmdJmZ1dkl1kU7KLidSrXVz6TTqZltvZtOxiYkFmZ3m5nf1ZZmdvy+zs440/JFKbO9n0W85kenMnl96YZTIyOzsts7NyIqcjYcrpSIBQxIUEbKFvwx7vXZB/zwLRwWb9Dm6c6GCfbviOFZk3fpyF3Z678FpnEogL0yDl/87pSGwijC7PHqPLPWJ0uYcMLrdf53T7tU633+Ds8xud3UN6Z2+oqdtxqc7V4zM4e4NGZ4/f4Lrir6bdfr3L7Tde9gwZXe6Q0eXuNbg8MgLCehLC+iUI6xcgrE9lS5eCmwdSELel4dahFEQPPIaoeRFiLSmIWVMwWZdlsvyClJ+GsF5OZJjG2gzTCC9rP2RGG+DJZBssT52G5dhZ4OPnYPnmSVi+9RksT52BJxMtIiOyL7NPMkzjJoJnzLk8Y7byjLmZZ8wWnmmw8GNmC3/DZOFHtBY+pLPwIb2FHzVZ+NE6aV2bZQQ2mxPyDTxj3vAfMpSp2k4YZ9QAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="v2.png"
        title="v2.png"
        src="/static/15d890f2b02501814ff4960938431097/d6170/v2.png"
        srcset="/static/15d890f2b02501814ff4960938431097/53f68/v2.png 213w,
/static/15d890f2b02501814ff4960938431097/df70d/v2.png 425w,
/static/15d890f2b02501814ff4960938431097/d6170/v2.png 850w,
/static/15d890f2b02501814ff4960938431097/b1bc2/v2.png 1125w"
        sizes="(max-width: 850px) 100vw, 850px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>As I was low of memory, I gave <a href="https://www.docker.com/">Docker</a> a try and was amazed by the reduction in memory usage. Before I knew much about Docker, I assumed a Docker container was another operating system so it would use as much memory as a virtual machine. Docker containers, however, are <a href="https://www.docker.com/resources/what-container">very lightweight and make use of the existing kernel</a>.</p>
<p>An example of this for running my downloading applications, in <strong>Setup 1</strong> where I ran one server per application:</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">VM1 - NZBGet       - RAM: 1GB
VM2 - Sonarr       - RAM: 2GB
VM3 - Radarr       - RAM: 2GB
VM4 - Transmission - RAM: 1GB
VM5 - NZBHydra     - RAM: 2GB
VM6 - jDownloader  - RAM: 2GB

Total - 10GB RAM</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>But in <strong>Setup 2</strong>, I was able to combine common applications or applications that communicated with each other:</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">VM1: Docker (NZBGet, Sonarr, Radarr, Transmission, NZBHydra, jDownloader)
RAM: 8GB</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>This saw a 2GB drop in RAM usage. Not much, but this is just one example! Other services I combined in Docker pushed those RAM savings further while keeping the maintainability of the system.</p>
<p>The <em>benefits</em> of this setup were:</p>
<ul>
<li>Lowered RAM use as I was able to combine applications and run them on the same server</li>
<li>Better maintainability through Docker instead of installing directly to the server</li>
<li>Each VM was still network separated from others with VLANs</li>
</ul>
<p>The <em>downsides</em> of this setup were:</p>
<ul>
<li>Still had to create a virtual machine each time I wanted a new service. This meant installing the OS, installing packages, setting up SSH, setting up network etc. all over again</li>
<li>Was still tinkering with virtual machine sizing</li>
</ul>
<h2 id="setup-3---2019-docker-only" style="position:relative;"><a href="#setup-3---2019-docker-only" aria-label="setup 3   2019 docker only permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup 3 - 2019: Docker only</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 639px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/47506338d4013ed9e943bbae69aae90c/3dbb9/v3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 134.7417840375587%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="v3.png"
        title="v3.png"
        src="/static/47506338d4013ed9e943bbae69aae90c/3dbb9/v3.png"
        srcset="/static/47506338d4013ed9e943bbae69aae90c/53f68/v3.png 213w,
/static/47506338d4013ed9e943bbae69aae90c/df70d/v3.png 425w,
/static/47506338d4013ed9e943bbae69aae90c/3dbb9/v3.png 639w"
        sizes="(max-width: 639px) 100vw, 639px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Considering the downsides of <strong>Setup 1</strong> and <strong>Setup 2</strong>, I decided it was time to go a bit further. There were a few considerations:</p>
<p>Looking at the transition of <strong>Setup 1</strong> (one application per server) to <strong>Setup 2</strong> (multiple Docker applications per server), I was able to combine multiple Ubuntu servers into one. This removed about 200MB of RAM usage and 400MB of disk space for each Ubuntu host that was removed.</p>
<p>In <strong>Setup 2</strong> (multiple Docker applications per server), there were still multiple instances of:</p>
<ul>
<li>Ubuntu</li>
<li>Docker</li>
<li>Virtual machines</li>
</ul>
<p>So I thought, why not combine this all together into one to remove the overhead? The above diagram summarises it nicely. I still maintain all the same benefits as before while removing the downsides I previously had.</p>
<p>To migrate to a Docker only environment however, there were two solutions I had to find an answer for:</p>
<ul>
<li><strong>Networking</strong>: maintaining network separation within Docker when running on a single host.</li>
<li><strong>Windows</strong>: How do I run any Windows applications on a Linux host?</li>
</ul>
<h2 id="docker-networking-with-vlans" style="position:relative;"><a href="#docker-networking-with-vlans" aria-label="docker networking with vlans permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Docker Networking with VLANs</h2>
<p>The hardest part of all this was to be able to separate Docker container to different networks so they wouldn't be able to communicate with each other, or hosts not on their network. I found a solution that worked on a single network interface and supported VLANs.</p>
<p>To give some perspective, this was what my previous setup on VMware ESXi looked like. Each port groups would have a VLAN tag:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/220ecb5abede4cdeec9ce94e8daeb2cc/6e693/vmware-networking.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 117.84037558685445%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="vmware-networking.png"
        title="vmware-networking.png"
        src="/static/220ecb5abede4cdeec9ce94e8daeb2cc/d6170/vmware-networking.png"
        srcset="/static/220ecb5abede4cdeec9ce94e8daeb2cc/53f68/vmware-networking.png 213w,
/static/220ecb5abede4cdeec9ce94e8daeb2cc/df70d/vmware-networking.png 425w,
/static/220ecb5abede4cdeec9ce94e8daeb2cc/d6170/vmware-networking.png 850w,
/static/220ecb5abede4cdeec9ce94e8daeb2cc/12c14/vmware-networking.png 1275w,
/static/220ecb5abede4cdeec9ce94e8daeb2cc/6e693/vmware-networking.png 1660w"
        sizes="(max-width: 850px) 100vw, 850px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Playing around with Ubuntu's new network configuration tool <a href="https://netplan.io/">NetPlan</a>, I was able to create multiple VLANs off a single interface <code class="language-text">eno1</code>. I set the default gateway to be <code class="language-text">eno1.10</code>, while the other VLANs did not require an IP address (although you could add one if you like):</p>
<div class="gatsby-highlight" data-language="yaml"><pre style="counter-reset: linenumber NaN" class="language-yaml line-numbers"><code class="language-yaml"><span class="token key atrule">network</span><span class="token punctuation">:</span>
  <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token key atrule">ethernets</span><span class="token punctuation">:</span>
    <span class="token key atrule">eno1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token key atrule">vlans</span><span class="token punctuation">:</span>
    <span class="token key atrule">eno1.10</span><span class="token punctuation">:</span>
      <span class="token key atrule">addresses</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> 192.168.1.3/24
      <span class="token key atrule">gateway4</span><span class="token punctuation">:</span> 192.168.1.1
      <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">10</span>
      <span class="token key atrule">link</span><span class="token punctuation">:</span> eno1
      <span class="token key atrule">nameservers</span><span class="token punctuation">:</span>
        <span class="token key atrule">addresses</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> 192.168.1.1
    <span class="token key atrule">eno1.20</span><span class="token punctuation">:</span>
      <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">20</span>
      <span class="token key atrule">link</span><span class="token punctuation">:</span> eno1
    <span class="token key atrule">eno1.30</span><span class="token punctuation">:</span>
      <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">30</span>
      <span class="token key atrule">link</span><span class="token punctuation">:</span> eno1
    <span class="token key atrule">eno1.40</span><span class="token punctuation">:</span>
      <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">40</span>
      <span class="token key atrule">link</span><span class="token punctuation">:</span> eno1</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Then within Docker, I used the <code class="language-text">macvlan</code> network driver to physically connect Docker container to a network interface:</p>
<div class="gatsby-highlight" data-language="shell"><pre style="counter-reset: linenumber NaN" class="language-shell line-numbers"><code class="language-shell">VLAN: <span class="token number">10</span>
Subnet: <span class="token number">192.168</span>.1.0/24
Gateway: <span class="token number">192.168</span>.1.1
Parent: eno1.10
DNS: <span class="token number">192.168</span>.1.1

$ docker network create <span class="token punctuation">\</span>
  -d macvlan <span class="token punctuation">\</span>
  --subnet<span class="token operator">=</span><span class="token number">192.168</span>.1.0/24 <span class="token punctuation">\</span>
  --gateway<span class="token operator">=</span><span class="token number">192.168</span>.1.1 <span class="token punctuation">\</span>
  -o <span class="token assign-left variable">parent</span><span class="token operator">=</span>eno1.10 <span class="token punctuation">\</span>
  --ip-range<span class="token operator">=</span><span class="token number">192.168</span>.1.128/26 <span class="token punctuation">\</span>
  mgmt</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Now I have a network called <code class="language-text">mgmt</code> which is connected to <code class="language-text">eno1.10</code>. Sadly any containers on the network won't use DHCP so you will have to provide an <code class="language-text">ip-range</code> for Docker to use. It doesn't care if there's something in that range so be careful.</p>
<p>To create a Docker container on that network:</p>
<div class="gatsby-highlight" data-language="shell"><pre style="counter-reset: linenumber NaN" class="language-shell line-numbers"><code class="language-shell">docker run --rm --network mgmt busybox <span class="token function">sh</span> -c <span class="token string">"ping 192.168.1.1"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>To enable DNS however, you will have to specify it with <code class="language-text">--dns</code> or it will use the host computer's DNS which may be inaccessible if the container is on a different network:</p>
<div class="gatsby-highlight" data-language="shell"><pre style="counter-reset: linenumber NaN" class="language-shell line-numbers"><code class="language-shell"><span class="token comment"># --dns x.x.x.x</span>
docker run --rm --network mgmt --dns <span class="token number">192.168</span>.1.1 busybox <span class="token function">sh</span> -c <span class="token string">"ping calvin.me"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>To set an IP address, provide the <code class="language-text">--ip</code> option:</p>
<div class="gatsby-highlight" data-language="shell"><pre style="counter-reset: linenumber NaN" class="language-shell line-numbers"><code class="language-shell"><span class="token comment"># test we can't ping other VLAN networks</span>
docker run --rm --network mgmt --ip <span class="token number">192.168</span>.1.20 busybox <span class="token function">sh</span> -c <span class="token string">"ping 192.168.2.5"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>So that now solves our networking so be exactly like before. Each Docker network corresponds to a real network and each container is physically separated from other containers within the same host. Here's a diagram of it:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d0c56369162324935bb48683bfbdae76/2573e/docker-networking.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 120.18779342723005%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="docker-networking.png"
        title="docker-networking.png"
        src="/static/d0c56369162324935bb48683bfbdae76/d6170/docker-networking.png"
        srcset="/static/d0c56369162324935bb48683bfbdae76/53f68/docker-networking.png 213w,
/static/d0c56369162324935bb48683bfbdae76/df70d/docker-networking.png 425w,
/static/d0c56369162324935bb48683bfbdae76/d6170/docker-networking.png 850w,
/static/d0c56369162324935bb48683bfbdae76/12c14/docker-networking.png 1275w,
/static/d0c56369162324935bb48683bfbdae76/2573e/docker-networking.png 1380w"
        sizes="(max-width: 850px) 100vw, 850px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="running-windows-applications" style="position:relative;"><a href="#running-windows-applications" aria-label="running windows applications permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running Windows Applications</h2>
<p>Short answer is <em>don't...</em></p>
<p>Longer answer is there are two options:</p>
<ol>
<li>Run a headless virtual machine inside the host (thought we could escape them?). <a href="https://help.ubuntu.com/community/KVM/Installation">Ubuntu provide decent docs</a> for KVM/QEMU and with an <a href="https://mobaxterm.mobatek.net/">X11 Server</a> you can always get a GUI through <a href="https://virt-manager.org/">virt-manager</a>. Combine this with bridging and you should get network separation.</li>
<li>Find a hacky solution. <em>Read on.</em></li>
</ol>
<p>I've gone with option 2 to run <a href="https://blueirissoftware.com/">Blue Iris</a>, my video surveillance software. <a href="https://hub.docker.com/r/jshridha/blueiris">jshridha</a> has created a Docker image that runs Blue Iris on top of <a href="https://www.winehq.org/">Wine</a>.</p>
<p>So Wine in Docker on Linux...a recipe for disaster.</p>
<h2 id="final-result" style="position:relative;"><a href="#final-result" aria-label="final result permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Final Result</h2>
<p>Here are stats of the homelab as of right now, running everything I have in the past:</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">Load average: 1.48, 1.31, 1.16
Memory: 5.59G/31.4G
Swap: 2.31G/8.00G

Running Docker containers: 28</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>An incredible result when considering I was previously running out of memory, to now not even using half of it.</p>
<p>Now a final benefits and downsides:</p>
<p><em>Benefits</em>:</p>
<ul>
<li>Considerably less memory use</li>
<li>Quick to spin up and delete a new application (e.g. <code class="language-text">docker run --network mgmt --dns 192.168.1.1 nextcloud</code>) as I no longer need to install Ubuntu, configure networking and everything else that comes with building a new host</li>
<li>No more virtual machine sizing guessing games</li>
<li>Direct access to hardware, meaning hardware acceleration!</li>
</ul>
<p><em>Downsides</em>:</p>
<ul>
<li>No more snapshots, everything should be isolated in a Docker container at which is halfway there.</li>
<li>Have to manually allocate IP addresses and DNS as no DHCP</li>
</ul>
<h2 id="future" style="position:relative;"><a href="#future" aria-label="future permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Future</h2>
<p>Seeing that I made a big change every 2-3 years, this is my guess:</p>
<ul>
<li><a href="https://kubernetes.io/">Kubernetes</a>? Perhaps too complicated for this setup and will require new solutions to networking and storage. However, K8S may become simpler in the future (see <a href="https://github.com/rancher/k3s">k3s</a> for example)</li>
<li>A lighter operating system than Ubuntu like <a href="https://coreos.com/">CoreOS</a> or <a href="https://github.com/rancher/os">RancherOS</a> but then I would have to figure out networking again and if it works with Ansible.</li>
<li>What if every application becomes a <a href="https://serverless.com/">serverless application</a>?</li>
</ul></div></article></main><footer class="footer container"><div><a href="#">Back To Top</a></div><div><a href="/categories">Categories</a><a href="/tags">Tags</a><a href="https://umami.calvin.me/share/AkrFoOXj/calvin.me" target="_blank" rel="noopener noreferrer">Analytics</a><a href="https://github.com/calvinbui/calvin.me" target="_blank" rel="noopener noreferrer">Source</a><a href="/rss.xml" target="_blank" rel="noopener noreferrer">RSS</a></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" defer="" src="https://u.calvin.me/script.js" data-website-id="90b1fd6b-e6ea-4725-848e-213b6cc123d2" data-auto-track="true" data-do-not-track="false"></script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/migrating-from-vms-to-docker";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-547837d081d1a7590b05.js"],"app":["/app-a4f379f8d588de2356d7.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-350983e6ccf5e7c9ea33.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1622befa2f773860c823.js"],"component---src-pages-categories-js":["/component---src-pages-categories-js-ddfe6df1c570546138ee.js"],"component---src-pages-index-js":["/component---src-pages-index-js-21139c230287e57f8d8f.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-981a77d575b6f5240d19.js"],"component---src-templates-category-js":["/component---src-templates-category-js-45f37b6d55dec2ace146.js"],"component---src-templates-post-js":["/component---src-templates-post-js-64d8ea671b8a77e0788a.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-6b4e740d121a9bb33b2b.js"]};/*]]>*/</script><script src="/polyfill-547837d081d1a7590b05.js" nomodule=""></script><script src="/component---src-templates-post-js-64d8ea671b8a77e0788a.js" async=""></script><script src="/47f38362120cd2cdba877e108f8a5f6ae3a5eef6-17decb788595cd62055c.js" async=""></script><script src="/9c7e749333147a39e3ef652a529fb524f3568be7-56e2afb85970b04105aa.js" async=""></script><script src="/0c428ae2-8645a111f436fabc2d8a.js" async=""></script><script src="/95b64a6e-b3956967be527516c6c3.js" async=""></script><script src="/1bfc9850-846e536cc7c42c63a083.js" async=""></script><script src="/app-a4f379f8d588de2356d7.js" async=""></script><script src="/framework-0952d05df8291876483e.js" async=""></script><script src="/webpack-runtime-75161fa3237a94e62c26.js" async=""></script></body></html>