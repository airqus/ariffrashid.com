{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/whats-in-my-esxi",
    "result": {"data":{"markdownRemark":{"html":"<p>Four years have past since I build my home lab! I thought I'd share what virtual machines I'm currently rolling and what I've left behind in that time.</p>\n<!-- more -->\n<h2 id=\"pfsense\" style=\"position:relative;\"><a href=\"#pfsense\" aria-label=\"pfsense permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pfSense</h2>\n<blockquote>\n<p>pfSense is a free and open source firewall and router that also features unified threat management, load balancing, multi WAN, and more.</p>\n</blockquote>\n<p><a href=\"https://www.pfsense.org/\">pfSense</a> has worked really well for me over the last 4 years. I love its flexibility to micromanage my network to stay organised and in complete control of everything that's happening.</p>\n<p>One caveat I have is its ability to track users and their usage. Packages such as <code class=\"language-text\">ntopng</code> can help with that but it fills up the entire disk! This is something that's done much better on Sophos or Meraki appliances.</p>\n<ul>\n<li>CPU: 1</li>\n<li>RAM: 512MB</li>\n<li>HDD: 8GB</li>\n<li>Packages:\n<ul>\n<li>Avahi</li>\n<li>mailreport</li>\n<li>Open-VM-Tools</li>\n<li>openvpn-client-export</li>\n<li>Service_Watchdog</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"freenas\" style=\"position:relative;\"><a href=\"#freenas\" aria-label=\"freenas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FreeNAS</h2>\n<blockquote>\n<p>Free &#x26; Open Source unified file and block storage, VM, and Docker system with templates, a self-healing file system, snapshots, and replication.</p>\n</blockquote>\n<p>The world's #1 storage OS, <a href=\"http://www.freenas.org/\">FreeNAS</a> provides storage capabilities for my home lab. It's main job is bundling my 6 x 4TB drives together and sharing it throughout the network.</p>\n<p>FreeNAS uses ZFS which eats a lot of RAM, preventing me from running a lot of other stuff I would've like to self-host (e.g. Ansible Tower). If I could however, I would give it even more RAM as it'll give me some peace of mind.</p>\n<p>Currently on FreeNAS, I'm making use of NFS to share with my *nix clients and SMB with Windows.</p>\n<ul>\n<li>CPU: 4</li>\n<li>RAM: 16GB</li>\n<li>HDD: 8GB, 6 x 4TB WD Se, 2 x 512GB Samsung 850 Pro</li>\n</ul>\n<h2 id=\"pi-hole\" style=\"position:relative;\"><a href=\"#pi-hole\" aria-label=\"pi hole permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pi-hole</h2>\n<blockquote>\n<p>A black hole for Internet advertisements</p>\n</blockquote>\n<p>I've recently spun up Pi-hole as a DNS server for Google Home and Chromecast devices. This was achieved with pfSense's ability to redirect all traffic from Google's DNS servers to the Pi-hole. I haven't had a chance to test if it actually removes ads however, it currently has 400000 queries and 0 have been blocked.</p>\n<p>I wouldn't set Pi-hole or any other adblocker network-wide as it could interfere with webpages or applications. I rather control adblocking individually on each host if it requires it.</p>\n<ul>\n<li>CPU: 1</li>\n<li>RAM: 512MB</li>\n<li>HDD: 16GB</li>\n</ul>\n<h2 id=\"ups\" style=\"position:relative;\"><a href=\"#ups\" aria-label=\"ups permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UPS</h2>\n<p>A VM image that is provided by CyberPanel to use PowerPanel Business Edition, their application that gracefully shuts downs ESXi during a power outage.</p>\n<ul>\n<li>CPU: 1</li>\n<li>RAM: 512MB</li>\n</ul>\n<h2 id=\"milestone\" style=\"position:relative;\"><a href=\"#milestone\" aria-label=\"milestone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Milestone</h2>\n<blockquote>\n<p>Milestone XProtect video management software (VMS) is powerful and easy to use with a wide array of features for basic to advanced surveillance needs.</p>\n</blockquote>\n<p>My one (sadly) Windows VM that runs my surveillance camera software, Milestone XProtect. I would love to use something...else but there's not much out there in the Linux world that works well (not Zoneminder).</p>\n<ul>\n<li>CPU: 2</li>\n<li>RAM: 4GB</li>\n</ul>\n<h2 id=\"usenet\" style=\"position:relative;\"><a href=\"#usenet\" aria-label=\"usenet permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usenet</h2>\n<p>This VM has replaced 6 other virtual machines by making use of Docker! I've previously posted about this in my <a href=\"/ansible-usenet-docker\">previous post</a> so take a look at that to find out more. I didn’t think that Docker containers would be so light compared to a brand new Ubuntu server install which only uses ~30MB of RAM compared to 512MB+ which I had for each service before.</p>\n<ul>\n<li>CPU: 4</li>\n<li>RAM: 2</li>\n<li>HDD: 100GB</li>\n</ul>\n<h2 id=\"old-vms\" style=\"position:relative;\"><a href=\"#old-vms\" aria-label=\"old vms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Old VMs</h2>\n<p>Here a few VMs I have but no longer use:</p>\n<ul>\n<li><strong>ADDS</strong>: Windows Active Directory server. After 3.5 years with it, I realised no one else makes use of LDAP auth besides me so started using local users instead</li>\n<li><strong>Unifi</strong>: Ubiquity's Unifi software. After setting up my Unifi AP AC, there's not much point leaving it running when it could also be configured through a phone app</li>\n<li><strong>Emby/Plex</strong>: Media management system and transcoder. I rather use an HTPC with <a href=\"https://kodi.tv/\">Kodi</a></li>\n<li><strong>GitLab</strong>: Code repository. Much easier to just store my code on GitHub/GitLab.com</li>\n<li><strong>MediaWiki</strong>: Wiki. I've moved all my documentation over to <a href=\"https://readthedocs.org/\">readthedocs</a> as I wrote in <a href=\"/personal-wiki-on-the-internet\">previous post</a></li>\n<li><strong>napp-it</strong>: ZFS Storage provider. FreeNAS just worked better</li>\n<li><strong>IPAM</strong>: IP Address management. Easier to look at the DNS page in pfSense</li>\n<li><strong>NTP</strong>: A time server. pfSense provides NTP services too so this was surpass.</li>\n</ul>","timeToRead":4,"excerpt":"Four years have past since I build my home lab! I thought I'd share what virtual machines I'm currently rolling and what I've left behind in…","fileAbsolutePath":"/home/runner/work/ariffrashid.com/ariffrashid.com/master/posts/2018/2018-06-22-whats-in-my-esxi/index.md","frontmatter":{"title":"What's In My ESXi","categories":["Virtualisation","Computers"],"tags":["vmware","esxi"],"thumbnail":{"childImageSharp":null,"extension":"svg","publicURL":"/static/5b26632f63e93276f4d3fbb4fda718bd/thumbnail.svg"}}}},"pageContext":{"filter":"/^.*\\/\\d{4}-\\d{2}-\\d{2}-whats-in-my-esxi\\/.*$/"}},
    "staticQueryHashes": []}