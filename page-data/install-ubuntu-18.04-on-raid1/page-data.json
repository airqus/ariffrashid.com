{"componentChunkName":"component---src-templates-post-js","path":"/install-ubuntu-18.04-on-raid1","result":{"data":{"markdownRemark":{"html":"<p>Create a RAID1 (mirroring) array and install Ubuntu 18.04 onto it.</p>\n<!-- more -->\n<p>The reason for this post is I haven't been able to find a guide for using <code class=\"language-text\">mdadm</code> in the Ubuntu Live server installer to create a RAID1 partition. Following this, there are also no guides on installing the GRUB bootloader to both GPT partitioned devices afterwards.</p>\n<h2 id=\"install-ubuntu-with-software-raid-mdadm\" style=\"position:relative;\"><a href=\"#install-ubuntu-with-software-raid-mdadm\" aria-label=\"install ubuntu with software raid mdadm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Ubuntu with software RAID (mdadm)</h2>\n<p>For the installation, I'm using the Live server installer for Ubuntu Server 18.04.3. It has less problems running from a USB.</p>\n<p>Proceed through the installer until you get to Filesystem setup. At this point, choose the <code class=\"language-text\">Manual option</code>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8c02cfd7d57776d7cf698fe336a0ebd0/22593/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.779342723004692%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAp0lEQVQI102KTQ7CIBgFe4FaMEL5+aCQSAGrLq0ncF2MC69OT2NojTWZTF4mr5rfMb9cnrqczI/5aQupsPWp9Jy+fU62ilYHA9Go0MHJ6mggaNlL3gvuQQSQXorYgdfCAfdaOuAO2LoryhhpGVlMGT/QtgVhz729uG44Mqe419yq5cMbvK8R3iG8usIIbWCE6oYoOjyu4q7ZqNobkFFSx8oXoz3G/3wA7+8smpeLnPoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1.png\"\n        title=\"1.png\"\n        src=\"/static/8c02cfd7d57776d7cf698fe336a0ebd0/d6170/1.png\"\n        srcset=\"/static/8c02cfd7d57776d7cf698fe336a0ebd0/53f68/1.png 213w,\n/static/8c02cfd7d57776d7cf698fe336a0ebd0/df70d/1.png 425w,\n/static/8c02cfd7d57776d7cf698fe336a0ebd0/d6170/1.png 850w,\n/static/8c02cfd7d57776d7cf698fe336a0ebd0/22593/1.png 1106w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Delete all partitions on both drives you will be using for RAID1:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 614px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97cb4c17757724eb766ad2f9f59c2abd/c42f5/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.11737089201877%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVQoz5WS227aQBCGfZFIYCng9e7syetdDAHXFDBeG8QaSp+jvah6kT5ElShS3zlpbivbgfaKJp9+7UGa+fcw4z1///j7h32+K57u7NO37OVL8vJ1/EZ5D9v4YWceXfLokl/78X0pflp+krgsb8AkkoooQ5SWk2k/hKub4HqArgfo6ia4LA8jRAmhBGMUAsacUsGo5IxTSkJ0WZ6UUjVEWusoitB7aJKNMVEL53w4HCKEujE8QQjBGJ/XYRi+JlNKsyybzWZxHBttptPpOEnmWUYI6fV6vu/3+33OeRwrxpjv+1EUJaMRYzQIAi/Lss/H42G/3+12zrnj8eic+3Q4OOestWVZFkWxWq2Kwq7X6+Vysd1u67q21hJCvDRN67quqqooCmtt0ZLneVmWm82mqiprm7TOJc/zcwAAeBhjY7SUUggupWhnTgGUUlrHcayE4IQQIQQABEHQxRBCmmtTSo0ZKaVEk8WFEFLKKIoAAGNMTgBA91XdFmP8+tvL5fL2djqfZ4vFIk3TDw1p532uyr/rv6UCANHCGGvdG9fO+P911lobYyaTsRQiOPHWJkEINe8BaE+Gd3XYH6QxebIwkqaiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2.png\"\n        title=\"2.png\"\n        src=\"/static/97cb4c17757724eb766ad2f9f59c2abd/c42f5/2.png\"\n        srcset=\"/static/97cb4c17757724eb766ad2f9f59c2abd/53f68/2.png 213w,\n/static/97cb4c17757724eb766ad2f9f59c2abd/df70d/2.png 425w,\n/static/97cb4c17757724eb766ad2f9f59c2abd/c42f5/2.png 614w\"\n        sizes=\"(max-width: 614px) 100vw, 614px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select a device and choose to <code class=\"language-text\">Make Boot Device</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 808px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f9675c0aeb3a696ff2c14b15e767bcf1/4a1c5/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.74647887323944%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcElEQVQoz5WQy2obMRhGtXXBut9GGl0sieLisRPPpDPGszF1ofsWssm7J3mUYo/TJvEi7eEgPv3oQ0jg6WH9+LB+vP/8/DM8/4r/Jfj2JX5fpR/rso+yr9ng2OD4PwqwUIhLLBTkEjIBmZghPPkJkdlJPPsb3gisqWpjTKUJxgRjSgijlFFKCTlv8Slf5u8FpRTnnLVWSqm1ZozBM5RSYyrGGCFkmuMrQNu2TdM0q9X29na73TZNY62ta+e9L6UsYvTebzabUooQQkopXmCMgXEcv75wd9f1fb/b7YZh6Lq267r2zDD0Nzeb5XKZUhJCcM6NMVprEGO01lZVNa11XYcQnHNT1koJIZxzWutSSs5ZSjmfzznnl7JzLoTgvQ8haKUweQ9CyBhzPB4Ph8M4jvv9vu97YwxIKS0Wi5yz9z7GqJS66hKMMec8nck5p5S896c3O+eMMRBChBCEEOPriy/9+Sumk+DPH5KPoG8hhPwG78peKqSDSf4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3.png\"\n        title=\"3.png\"\n        src=\"/static/f9675c0aeb3a696ff2c14b15e767bcf1/4a1c5/3.png\"\n        srcset=\"/static/f9675c0aeb3a696ff2c14b15e767bcf1/53f68/3.png 213w,\n/static/f9675c0aeb3a696ff2c14b15e767bcf1/df70d/3.png 425w,\n/static/f9675c0aeb3a696ff2c14b15e767bcf1/4a1c5/3.png 808w\"\n        sizes=\"(max-width: 808px) 100vw, 808px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>A Boot partition will appear</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 722px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c0e0716ce258ad71f6232f4bb2a56d5d/ad973/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.83098591549296%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABy0lEQVQoz42S267UIBSGe+nO9EA70JbTotApLbXTw4zb6I0PoTfG6KO7t4+ihT0T44X65Q9ZZPEH+CF6+uyevm3PX8/fv0zPn/SPv+r5Y/O7oreqeqfpe8M+WHgEMpFkLtOg8624a2PFVeC7Imi7+c3juGz9NA/zanrXjZPpXTu44Tx3rydth6brTe9M74qavkqzhwwFRYPtrpfLMp+ncdzWZVuXdVm2dV3n+XrZ/HRe5vPe2haQIkfZsciDIkop55zSWggRx/GD53A4xHF8eCH22knTNPegHW8ehr5pGrihtS6KIssyhFDhyfOcECKlpJTmeQ4AnPOyLCPO+TRN1uM84zg2TcM9wZnnOcYYAKSUGOPT6aSUqqoqKssSAJRSjDFKaV3XVVUJIf4wF0URWnVdD8MAAMdjEdV1rbWWUgoh/LDbmhsY4/vOoRU2Y4ztx2aMWWuVUsYY5QEAQsgeyL/YA9NaK6Xatg0F5xxj/F9mxpgQXEqRJEnsSZIkvXFfhxDKPKHwT4WiqqqMMeE+wsMYCxEIIcKdEUKEEACglBJCtNaMMYzxfmznXLtjrLXGmLY1zg3j6Ky1ACCE8EFIa7vTqfX/YtBa/wrsJ9lta+H5BHM8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4.png\"\n        title=\"4.png\"\n        src=\"/static/c0e0716ce258ad71f6232f4bb2a56d5d/ad973/4.png\"\n        srcset=\"/static/c0e0716ce258ad71f6232f4bb2a56d5d/53f68/4.png 213w,\n/static/c0e0716ce258ad71f6232f4bb2a56d5d/df70d/4.png 425w,\n/static/c0e0716ce258ad71f6232f4bb2a56d5d/ad973/4.png 722w\"\n        sizes=\"(max-width: 722px) 100vw, 722px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select the same device as before and choose to <code class=\"language-text\">Add Partition</code>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4d2dec8bd4c3827b41e4bdb62e9a4e8c/8643c/5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.86854460093896%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXUlEQVQoz3XRb4ujMBAGcD9Ad00y2mYmmcSkJcf1xUm7SKEKhb7Ze3Psft/zwx2ObNn79+NBRR3kGaufP8r8/nV++zJ/j/Mrz69Bwp+u/5uqtYiefexapI3ST5JnA0/abGr1Eb1Rkvq3VIg2hrBtW/aL9RhCYPZE5JxDtGCM0frvVMuAAIC6rpVS+hMjtNYAsJy0PFVKy2sVM5dSkjgcDsz8mFdKNU3DzNvtFhFjjCAaYYyp+r6/3W6jmKZpHMfL5TIMwzfR9/0wDC8v52martdrKSXnvM4TUYWIKSXvl4aISERd13nvjTFKKQBwzllrY4zMPI7j/X4/n8+n0+l4PC6ds9jv9yklRNT/snbx3jthrd3tdsuXmRkRW2GMqcVjZt3i6lG4aRoAWBaWcyai3QcistaukwBARG3bolhvrpZtE1HOOYSQUooxppRKKV3XrT/ZOZdzds514o8uvwAc6FK3fl3YaAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"5.png\"\n        title=\"5.png\"\n        src=\"/static/4d2dec8bd4c3827b41e4bdb62e9a4e8c/d6170/5.png\"\n        srcset=\"/static/4d2dec8bd4c3827b41e4bdb62e9a4e8c/53f68/5.png 213w,\n/static/4d2dec8bd4c3827b41e4bdb62e9a4e8c/df70d/5.png 425w,\n/static/4d2dec8bd4c3827b41e4bdb62e9a4e8c/d6170/5.png 850w,\n/static/4d2dec8bd4c3827b41e4bdb62e9a4e8c/8643c/5.png 924w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Enter the size you wish to use and leave the drive <strong>unformatted</strong>. I chose to use the entire drive. <strong>Make note of the size</strong>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 638px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e57f39470591acacf0bac481e68edc4a/d376a/6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.60093896713616%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVQoz23RTWvCQBAGYLUXkWxmMrOzH9EUQsJa6K3Qg2CvBdNzFSwGTf3/v6FNth60PuxlZ+aFWXbEA++9GYgIMwNAOkiSBACUUrPZLE1TRASAJEmUUsw8yvO8KIoQQliGuq7LsgwhHNpD27anqDt1393xdOy67nw+x+v6bd2HnXN+MJ/P8zx3zhVFsWk2zUez3W2j3XYXxcr+a79arYho5L0HBERM09RaW1UVEWmt4/7xIdPpdDKZPFyMx+M43IezizjNzCLS57WIFmutvsbM1lpjzFWYiESEBoAACH2RKbuGiCJyG44NRMwoK9+Xz58v3Cz0q89UX7kf5v80F+Vj9VTLwprc3DSJ6G9trbW7x4gxWpxx/bnn96t+APFvPnoG3y7JAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"6.png\"\n        title=\"6.png\"\n        src=\"/static/e57f39470591acacf0bac481e68edc4a/d376a/6.png\"\n        srcset=\"/static/e57f39470591acacf0bac481e68edc4a/53f68/6.png 213w,\n/static/e57f39470591acacf0bac481e68edc4a/df70d/6.png 425w,\n/static/e57f39470591acacf0bac481e68edc4a/d376a/6.png 638w\"\n        sizes=\"(max-width: 638px) 100vw, 638px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select the secondary device and choose to <code class=\"language-text\">Add Partition</code>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/67a581498ee2dbc7bc7758a0b2641bd9/77dcf/7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.929577464788736%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgUlEQVQoz23O224aMRAG4L0Pcnxejz3GezZhvSIBURYQb5GLVn37lr5HVW8aKRKfftkz1ozk4v493n+Ov368/H5v/rzXS+7/i8/2YYpD7b714fzSHGo7GpaAj4Yn+MiYz8mKhym4NtYHrsvSoQKnwEpjDXptHdelKIHr8omyp+cHKdA579E5q5XijEkhtJJKfkQrKYXgjHHGGKVL8ZkCEbuuq6rKZwBACKGU5mEqpUREpRQAICL7qrDWDsPQNE3btsMwVFUFAFprQshqtaKUGmOEEIgYQuCZyDjnRUrpdrvNp9M8z+fzeb/fz6fT8XhMKW2322maDofD29vr9Xqd59l7b4xhjHHOtdZFCGGz2QxZ13UhBJuZDACstQCwtNfL5Xq5pJSmaYoxFgDgvUfEZUhKSTJK6XNGCFlOQkhKabfbxRjrukbEwjkXQijLcvmMEEJmyzLnXCnFOV8etVZKKZ0vIcS/5Rhj0zR937dt2/f9OI5d12G2Xq9jjN77LqNf/QVMjFqKIsiSTgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"7.png\"\n        title=\"7.png\"\n        src=\"/static/67a581498ee2dbc7bc7758a0b2641bd9/d6170/7.png\"\n        srcset=\"/static/67a581498ee2dbc7bc7758a0b2641bd9/53f68/7.png 213w,\n/static/67a581498ee2dbc7bc7758a0b2641bd9/df70d/7.png 425w,\n/static/67a581498ee2dbc7bc7758a0b2641bd9/d6170/7.png 850w,\n/static/67a581498ee2dbc7bc7758a0b2641bd9/77dcf/7.png 930w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Enter the same size you used for the <strong>first device</strong> and also leave this drive <strong>unformatted</strong>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4c5ade32389106c45968cc0e9bc18b9/08d47/8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.78403755868545%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABE0lEQVQY03WOwVLCQAyGe1RnaJtst0m2XcBd2mU6oBfvHnwBT7wKnGFbD/jQDtRBlPG7/cn/TZIws4g45x7PTKfTuq6XZ9q2bZomhNA0jXMuhNB1XQihbVtjDBElxpj5fD7K3ntr7Wq12m63u93uEA+xj7GPwzAMH0Pf97GP+8P++HncbDYAkIiIUgoRAYCZrbVlWboz3vvFYuG8m81mIlJeobVm5oSZRzPPcyKy1iqlWFiMMZWp6kqMFEWRpdk1ACAiPzIAIGKh9SnmkD5M0vtJejfBFC6FC4j46/I4QnUKiFh2QusK14ReYw7/yuPP12R55t+WT+8v6rXSzwLZ38L32yLCzHSDaKlKQ0BU3C5pVL4A3vc7JZy5VjEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"8.png\"\n        title=\"8.png\"\n        src=\"/static/d4c5ade32389106c45968cc0e9bc18b9/08d47/8.png\"\n        srcset=\"/static/d4c5ade32389106c45968cc0e9bc18b9/53f68/8.png 213w,\n/static/d4c5ade32389106c45968cc0e9bc18b9/df70d/8.png 425w,\n/static/d4c5ade32389106c45968cc0e9bc18b9/08d47/8.png 624w\"\n        sizes=\"(max-width: 624px) 100vw, 624px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select the <code class=\"language-text\">[ Create software RAID (md) ]</code> option</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 724px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ef2b4a0cb4510ec9be03515d7a02592c/f8db4/9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.70892018779344%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVQoz5WRS4/TMBSFIzos+kgax7Hj9zN20namXSBAVWn/B+yG/SCGn07FHhIz0YjRLPh0Nr7WkX3Pya5f99f7u5/3d9cv/tdn91/Kvr83jx/Mj4/u8Z142DcPe/KkJh2/va6sZBJKA4UBXM8KcFOAWQFmObgpqrclnBXgzap8TZkz2ihZA6AEb501SnprJGfR29Yaq5USzCpplBSU1hWoK4BG1RXIpJRCcCkFxrgsSzBSvQAA8HRbJgAAmffeGCOlJIQghAghEELwAjICIUQIUUrruq6qKusGeuds13Uxhtvbnda6LMv02gSlVCmJEMIYe+855xDCLMYYQnDOta3vus4YrZSy1mqtCSHTIoQQIUTTYGNMjOGvOQy01lrvfYzRGCOEUEpJKZumeWZuhOAYYyml944xNny7bX0IIRm8d5zzpmk454yx5xFijCmlCKG+7w6HgxBiMF8ul9PpdD6fP51Ox+Pxcj5751Z5vl6vJ2eKOE3S2mmSbbebvu93u912u40x9n3PGEtt/RN46mzqaaiKUsoYK4piPp8vl8vFYrFarfI8L4oiPTUxTdYjg3mz2YTQaq2dc9ZapZRzLsaY+qjrGmOMENJae+8JIUrpEAKlFMIqcwNWCGFHtFZjbW1qi3OulExxtm1LKU1pU0r/BPYbLIF3CoOou8oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"9.png\"\n        title=\"9.png\"\n        src=\"/static/ef2b4a0cb4510ec9be03515d7a02592c/f8db4/9.png\"\n        srcset=\"/static/ef2b4a0cb4510ec9be03515d7a02592c/53f68/9.png 213w,\n/static/ef2b4a0cb4510ec9be03515d7a02592c/df70d/9.png 425w,\n/static/ef2b4a0cb4510ec9be03515d7a02592c/f8db4/9.png 724w\"\n        sizes=\"(max-width: 724px) 100vw, 724px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select RAID1 and then both partitions you have created using the <code class=\"language-text\">&lt;SPACEBAR></code> and choose <code class=\"language-text\">[ Create ]</code> when finished:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d662e3e93d7c6aa01b2df005ecd6c2d5/984b6/10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.91549295774648%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5ElEQVQ4y22Tza7aMBCFWbYC4ng8HnucEOOEhPAjqNpFl5Uq9SF4FiRIV7x2hX357f22nuPjOTMeEREzW2uNMVrrPM+ZWWvNEeccIhJROhKRLMuUUsaYETMDgNY6hLDf74/H4zAM5/N5GIa/rwyR0+l0uVwOhwMAjKy1zGxu9H2/Xq83m81qteq6bvEZbdtWVXV1NsZUVVWWZVEUUkoishEAyLJsfGP6xHg8FkJYa0eproxIKRExhOC9r6pqPp977+u69t7DDSllURRlWV6drbVKKYogojFmGanrWmt9T0sIkUeEELPIQ5zOpJRKqRBC0zTe+5QFERljnHM6cnd6iOUNZt5ut6tI0zRt29aRvu9TWt779K4XcZ7nKfCu63a73WKxAIDpdJpmm6KaTCZKqaqqiqJ4EQOAEAIR+77vuq5t2zSq5Lxer5umqeu6LMvZbPYSWHLWWjvn0qjbtk29pVbTo4jIOdd1XQjhvWelFACkDufzuTFGRTCSok67kNbhPbB0xfUWBYioUCm8ip9rhBAA8FgSALjPmYiuFeNs+mWSfxX55GPCbwafO6f+3U8f/izxVwE/DEh4K/gQMzMiwitSyvBtsf/93e4LWnLK4hlEZObR/T+/QaAxV0aSUeb/U2Ymon/rvG9MVS7ojwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"10.png\"\n        title=\"10.png\"\n        src=\"/static/d662e3e93d7c6aa01b2df005ecd6c2d5/984b6/10.png\"\n        srcset=\"/static/d662e3e93d7c6aa01b2df005ecd6c2d5/53f68/10.png 213w,\n/static/d662e3e93d7c6aa01b2df005ecd6c2d5/df70d/10.png 425w,\n/static/d662e3e93d7c6aa01b2df005ecd6c2d5/984b6/10.png 630w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select the new RAID device <code class=\"language-text\">md0</code> and choose to the <code class=\"language-text\">Format</code> option:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ccc44c8d4cf5d352b7e99dd5adc28dc8/926ba/11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.91079812206573%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrklEQVQoz3WPy46bMBSGWbcivoHBN3zBYGwSEYVIWTQjzUNMF1Xfvu3Mc1SAMp2i9tO3OIv/9/HJfn1PP74NP7+6txfz+mLffXv4+n+zp8E+j/7eNxeOL4JcOJklWQe8OQsyy+KfZtJYUtWVVFRIKiSuGGt0JRWpeVFzUnNAys8QbX4Cf5lJwVld07JEEGKEMIKLEG4DghACcMjzQ56Dw2HLEIy2ZDbP8ziOIQTfLfQPuq4bx/F0Oo5jSilN09T3Pee8LEuEEMa4LMtsmqaPHbXSNI1Sqm3bEIJzzhjT932M8X7/cr1eYxyWZW2bdd43a85Z65wjhGCMIYR5nheEMMbgipTSGnO73c7n8zAMMUZrbeaca5pGCCGlFELoZqGkFEJIKRVCEEKqquq855xvT2/fJoRkrXPeL/d675VSAIBtFULofVjm1R2ZUopW1dYBABxW4A6EwIeH/pTjMOgHRuvleOcYY0VRLFdoTSmtKG3bVnC+L6eUnLXDSuj7lNLpePTea62VUsYYwbkQIsWotdmXQwjGGO/9EMJ2eVxyy8KiKBhjCCFKqfdeSrkr/wauT2a/ia0SqgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"11.png\"\n        title=\"11.png\"\n        src=\"/static/ccc44c8d4cf5d352b7e99dd5adc28dc8/d6170/11.png\"\n        srcset=\"/static/ccc44c8d4cf5d352b7e99dd5adc28dc8/53f68/11.png 213w,\n/static/ccc44c8d4cf5d352b7e99dd5adc28dc8/df70d/11.png 425w,\n/static/ccc44c8d4cf5d352b7e99dd5adc28dc8/d6170/11.png 850w,\n/static/ccc44c8d4cf5d352b7e99dd5adc28dc8/926ba/11.png 918w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Set the format as <code class=\"language-text\">ext4</code> and choose to mount it at <code class=\"language-text\">/</code>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 622px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5284914c68a3b964e27732816c45e216/afe45/12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.21126760563381%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVQY03WQTU7DQAyFc4Emtsce/wx0nEjAjq67YckFuP9dUBJEqGg/WZal5yfreai1eria2o6bmp77eVmWnj0z55wzM1qsO26/5eGDqvbsvfd12DoiEpGIeAQRlQ26BRHbUxvWyxvMXErBDQAQESqEDwCAaLGaI6K1xnKYEVFYcAIcAafHZlWlQuM4AsCPQginKa799esdPr18BAsf6o3ZVET2nEckwMj2cnmTWcuzMDPhvczM7OF/37iXVq0sVtWq/VfNrWr9Bmr7I/e/KTpNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"12.png\"\n        title=\"12.png\"\n        src=\"/static/5284914c68a3b964e27732816c45e216/afe45/12.png\"\n        srcset=\"/static/5284914c68a3b964e27732816c45e216/53f68/12.png 213w,\n/static/5284914c68a3b964e27732816c45e216/df70d/12.png 425w,\n/static/5284914c68a3b964e27732816c45e216/afe45/12.png 622w\"\n        sizes=\"(max-width: 622px) 100vw, 622px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select <code class=\"language-text\">[ Done ]</code> at the bottom to continue the installation:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/39bb01b083c77bdf7ab82a89ce39115f/46352/13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.948356807511736%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA80lEQVQoz4WP20rDQBCG96IgiLK7s+dD9tBsIG1JooJGvBFfqPVC3182lIKI6cfHMPzwMwz6mvP3a/v5YE6TPk36OKrjqKuTPi//i7CyRFtiPNaO+4i1uwVxg2Fzhzf3ZF2UYgiNd0ZLzhglkjMthWBglBQMONAVUc65XQghCCE458YYpVRKCQDoKsg5Z4yRUl4iQshlXinnnK21QgilFFvw3mutrbXArl3uum63MAxD3/ehaRpfKaVQTKorZXlGSVWl9U8AYDVpDfWMYPIXvIDydtvm5PeTenwTw4scZzkuc5jj+0f3/HTY7fa/KaXEGFNKP8NxOJ2Ni8UiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"13.png\"\n        title=\"13.png\"\n        src=\"/static/39bb01b083c77bdf7ab82a89ce39115f/d6170/13.png\"\n        srcset=\"/static/39bb01b083c77bdf7ab82a89ce39115f/53f68/13.png 213w,\n/static/39bb01b083c77bdf7ab82a89ce39115f/df70d/13.png 425w,\n/static/39bb01b083c77bdf7ab82a89ce39115f/d6170/13.png 850w,\n/static/39bb01b083c77bdf7ab82a89ce39115f/12c14/13.png 1275w,\n/static/39bb01b083c77bdf7ab82a89ce39115f/46352/13.png 1542w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>If you run into any errors, the Live server installer will fail to 'probe devices' during a reinstall. To fix this, follow <a href=\"https://www.digitalocean.com/community/tutorials/how-to-create-raid-arrays-with-mdadm-on-ubuntu-18-04#resetting-existing-raid-devices\">this guide from DigitalOcean</a> for resetting existing RAID devices.</p>\n<h2 id=\"create-a-boot-partition-on-the-secondary-device\" style=\"position:relative;\"><a href=\"#create-a-boot-partition-on-the-secondary-device\" aria-label=\"create a boot partition on the secondary device permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a Boot Partition on the secondary device</h2>\n<p>Run <code class=\"language-text\">lsblk</code> to see the partitions you have:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ lsblk\nNAME    MAJ:MIN RM   SIZE RO TYPE  MOUNTPOINT\nsda       <span class=\"token number\">8</span>:0    <span class=\"token number\">0</span>   477G  <span class=\"token number\">0</span> disk\n├─sda1    <span class=\"token number\">8</span>:1    <span class=\"token number\">0</span>   477G  <span class=\"token number\">0</span> part\n│ └─md0   <span class=\"token number\">9</span>:0    <span class=\"token number\">0</span> <span class=\"token number\">476</span>.8G  <span class=\"token number\">0</span> raid1 /\n└─sda2    <span class=\"token number\">8</span>:2    <span class=\"token number\">0</span>     1M  <span class=\"token number\">0</span> part\nsdb       <span class=\"token number\">8</span>:16   <span class=\"token number\">0</span>   477G  <span class=\"token number\">0</span> disk\n└─sdb1    <span class=\"token number\">8</span>:17   <span class=\"token number\">0</span>   477G  <span class=\"token number\">0</span> part\n  └─md0   <span class=\"token number\">9</span>:0    <span class=\"token number\">0</span> <span class=\"token number\">476</span>.8G  <span class=\"token number\">0</span> raid1 /</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You can see that the secondary device (<code class=\"language-text\">sdb</code>) does not have a <code class=\"language-text\">1M</code> partition as we did not create a Boot Device on it. Running <code class=\"language-text\">parted</code> or <code class=\"language-text\">fdisk</code> can also confirm this. Here is the <code class=\"language-text\">parted</code> output:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">parted</span> /dev/sda print\n<span class=\"token punctuation\">..</span>.\nNumber  Start   End    Size    File system  Name                 Flags\n <span class=\"token number\">1</span>      1049kB  512GB  512GB\n <span class=\"token number\">2</span>      512GB   512GB  1049kB               BIOS boot partition  bios_grub\n\n$ <span class=\"token function\">parted</span> /dev/sdb print\n<span class=\"token punctuation\">..</span>.\nNumber  Start   End    Size    File system  Name  Flags\n <span class=\"token number\">1</span>      1049kB  512GB  512GB</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>And here is the <code class=\"language-text\">fdisk</code> output:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">fdisk</span> -l /dev/sda\n<span class=\"token punctuation\">..</span>.\nDevice          Start        End    Sectors  Size Type\n/dev/sda1        <span class=\"token number\">2048</span> <span class=\"token number\">1000210431</span> <span class=\"token number\">1000208384</span>  477G Linux filesystem\n/dev/sda2  <span class=\"token number\">1000210432</span> <span class=\"token number\">1000212479</span>       <span class=\"token number\">2048</span>    1M BIOS boot\n\n$ <span class=\"token function\">fdisk</span> -l /dev/sdb\n<span class=\"token punctuation\">..</span>.\nDevice          Start        End    Sectors  Size Type\n/dev/sdb1        <span class=\"token number\">2048</span> <span class=\"token number\">1000212479</span> <span class=\"token number\">1000210432</span>  477G Linux filesystem</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The tool we will use this fix this is <a href=\"https://linux.die.net/man/8/gdisk\"><code class=\"language-text\">gdisk</code></a>, short for <strong>GPT fdisk</strong>.</p>\n<p>Run <code class=\"language-text\">gdisk</code> on the primary device to see the partition table:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ gdisk -l /dev/sda\n<span class=\"token punctuation\">..</span>.\nNumber  Start <span class=\"token punctuation\">(</span>sector<span class=\"token punctuation\">)</span>    End <span class=\"token punctuation\">(</span>sector<span class=\"token punctuation\">)</span>  Size       Code  Name\n   <span class=\"token number\">1</span>            <span class=\"token number\">2048</span>      <span class=\"token number\">1000210431</span>   <span class=\"token number\">476.9</span> GiB   <span class=\"token number\">8300</span>\n   <span class=\"token number\">2</span>      <span class=\"token number\">1000210432</span>      <span class=\"token number\">1000212479</span>   <span class=\"token number\">1024.0</span> KiB  EF02</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This tells us two important details we will need to create the same partition on the secondary device:</p>\n<ul>\n<li>The GRUB partition size is <code class=\"language-text\">1024.0 KiB</code></li>\n<li>The GRUB partition is of type <code class=\"language-text\">EF02</code></li>\n</ul>\n<p>Run <code class=\"language-text\">gdisk</code> on the secondary device:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">gdisk /dev/sdb</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Enter the following to create a new partition:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">Command <span class=\"token punctuation\">(</span>? <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: n\nPartition number <span class=\"token punctuation\">(</span><span class=\"token number\">2</span>-128, default <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">2</span>\nFirst sector <span class=\"token punctuation\">(</span><span class=\"token number\">34</span>-1000215182, default <span class=\"token operator\">=</span> <span class=\"token number\">1000212480</span><span class=\"token punctuation\">)</span> or <span class=\"token punctuation\">{</span>+-<span class=\"token punctuation\">}</span>size<span class=\"token punctuation\">{</span>KMGTP<span class=\"token punctuation\">}</span>:\nLast sector <span class=\"token punctuation\">(</span><span class=\"token number\">1000212480</span>-1000215182, default <span class=\"token operator\">=</span> <span class=\"token number\">1000215182</span><span class=\"token punctuation\">)</span> or <span class=\"token punctuation\">{</span>+-<span class=\"token punctuation\">}</span>size<span class=\"token punctuation\">{</span>KMGTP<span class=\"token punctuation\">}</span>: +1024K\nCurrent <span class=\"token builtin class-name\">type</span> is <span class=\"token string\">'Linux filesystem'</span>\nHex code or GUID <span class=\"token punctuation\">(</span>L to show codes, Enter <span class=\"token operator\">=</span> <span class=\"token number\">8300</span><span class=\"token punctuation\">)</span>: EF02</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This creates the boot partition:</p>\n<ul>\n<li>sets the partition table to <code class=\"language-text\">2</code></li>\n<li>sets the start sector to be end of the partition table <code class=\"language-text\">1</code> (empty = default)</li>\n<li>sets the last sector to be <code class=\"language-text\">1024 KiB</code> from the start sector (as we found out before)</li>\n<li>sets the GUID to <code class=\"language-text\">EF02</code> which is short-hand for a BIOS Boot Partition</li>\n</ul>\n<p>Finally enter <code class=\"language-text\">w</code> and accept the changes to create the partition table using <code class=\"language-text\">gdisk</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">Command <span class=\"token punctuation\">(</span>? <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: w\n\nFinal checks complete. About to <span class=\"token function\">write</span> GPT data. THIS WILL OVERWRITE EXISTING\nPARTITIONS<span class=\"token operator\">!</span><span class=\"token operator\">!</span>\n\nDo you want to proceed? <span class=\"token punctuation\">(</span>Y/N<span class=\"token punctuation\">)</span>: Y\nOK<span class=\"token punctuation\">;</span> writing new GUID partition table <span class=\"token punctuation\">(</span>GPT<span class=\"token punctuation\">)</span> to /dev/sdb.\nWarning: The kernel is still using the old partition table.\nThe new table will be used at the next <span class=\"token function\">reboot</span> or after you\nrun partprobe<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> or kpartx<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span>\nThe operation has completed successfully.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As noted by <code class=\"language-text\">gdisk</code>, you have to run <code class=\"language-text\">partprobe</code> or <code class=\"language-text\">kpartx</code> to let the kernel use the new partition tables:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">partprobe</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"install-grub-to-the-secondary-device\" style=\"position:relative;\"><a href=\"#install-grub-to-the-secondary-device\" aria-label=\"install grub to the secondary device permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install GRUB to the secondary device</h2>\n<p>Now that the partition is created, run <code class=\"language-text\">grub-install</code> to install GRUB to the secondary device:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">grub-install /dev/sdb\nInstalling <span class=\"token keyword\">for</span> i386-pc platform.\nInstallation finished. No error reported.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Reboot and attempt to boot both the primary and secondary devices!</p>","timeToRead":6,"excerpt":"Create a RAID1 (mirroring) array and install Ubuntu 18.04 onto it. The reason for this post is I haven't been able to find a guide for using…","fileAbsolutePath":"/home/runner/work/calvin.me/calvin.me/master/posts/2019/2019-11-28-install-ubuntu-18.04-on-raid1/index.md","frontmatter":{"title":"Install Ubuntu 18.04 on RAID1","categories":["Computers"],"tags":["ubuntu","raid"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/2db81c7616398f5d07dfdf173ca994ab/ccc8a/thumbnail.png","srcSet":"/static/2db81c7616398f5d07dfdf173ca994ab/ccc8a/thumbnail.png 150w,\n/static/2db81c7616398f5d07dfdf173ca994ab/67d4a/thumbnail.png 300w","sizes":"150px"},"sources":[{"srcSet":"/static/2db81c7616398f5d07dfdf173ca994ab/3554d/thumbnail.webp 150w,\n/static/2db81c7616398f5d07dfdf173ca994ab/c437f/thumbnail.webp 300w","type":"image/webp","sizes":"150px"}]},"width":150,"height":150}}}}}},"pageContext":{"filter":"/^.*\\/\\d{4}-\\d{2}-\\d{2}-install-ubuntu-18.04-on-raid1\\/.*$/"}},"staticQueryHashes":[]}